{"version":3,"file":"bundle.js","sources":["../node_modules/preact/dist/preact.module.js","../app/utils.js","../app/state.js","../app/undo-redo.js","../app/components/toolbar.js","../app/keyboard.js","../app/components/color.js","../app/components/timeline.js","../app/components/canvas.js","../app/components/header.js","../app/index.js"],"sourcesContent":["var n,l,u,i,t,r,o,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n)}function h(n,l,u){var i,t=arguments,r={};for(i in l)\"key\"!==i&&\"ref\"!==i&&(r[i]=l[i]);if(arguments.length>3)for(u=[u],i=3;i<arguments.length;i++)u.push(t[i]);if(null!=u&&(r.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(i in n.defaultProps)void 0===r[i]&&(r[i]=n.defaultProps[i]);return p(n,r,l&&l.key,l&&l.ref,null)}function p(l,u,i,t,r){var o={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r};return null==r&&(o.__v=o),n.vnode&&n.vnode(o),o}function y(){return{}}function d(n){return n.children}function m(n,l){this.props=n,this.context=l}function w(n,l){if(null==l)return n.__?w(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?w(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function g(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!i++||r!==n.debounceRendering)&&((r=n.debounceRendering)||t)(_)}function _(){for(var n;i=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,r,o,f;n.__d&&(o=(r=(l=n).__v).__e,(f=l.__P)&&(u=[],(i=a({},r)).__v=i,t=A(f,r,i,l.__n,void 0!==f.ownerSVGElement,null,u,null==o?w(r):o),T(u,r),t!=o&&k(r)))})}function b(n,l,u,i,t,r,o,f,s){var a,h,p,y,d,m,k,g=u&&u.__k||c,_=g.length;if(f==e&&(f=null!=r?r[0]:_?w(u,0):null),a=0,l.__k=x(l.__k,function(u){if(null!=u){if(u.__=l,u.__b=l.__b+1,null===(p=g[a])||p&&u.key==p.key&&u.type===p.type)g[a]=void 0;else for(h=0;h<_;h++){if((p=g[h])&&u.key==p.key&&u.type===p.type){g[h]=void 0;break}p=null}if(y=A(n,u,p=p||e,i,t,r,o,f,s),(h=u.ref)&&p.ref!=h&&(k||(k=[]),p.ref&&k.push(p.ref,null,u),k.push(h,u.__c||y,u)),null!=y){var c;if(null==m&&(m=y),void 0!==u.__d)c=u.__d,u.__d=void 0;else if(r==p||y!=f||null==y.parentNode){n:if(null==f||f.parentNode!==n)n.appendChild(y),c=null;else{for(d=f,h=0;(d=d.nextSibling)&&h<_;h+=2)if(d==y)break n;n.insertBefore(y,f),c=f}\"option\"==l.type&&(n.value=\"\")}f=void 0!==c?c:y.nextSibling,\"function\"==typeof l.type&&(l.__d=f)}else f&&p.__e==f&&f.parentNode!=n&&(f=w(p))}return a++,u}),l.__e=m,null!=r&&\"function\"!=typeof l.type)for(a=r.length;a--;)null!=r[a]&&v(r[a]);for(a=_;a--;)null!=g[a]&&D(g[a],g[a]);if(k)for(a=0;a<k.length;a++)j(k[a],k[++a],k[++a])}function x(n,l,u){if(null==u&&(u=[]),null==n||\"boolean\"==typeof n)l&&u.push(l(null));else if(Array.isArray(n))for(var i=0;i<n.length;i++)x(n[i],l,u);else u.push(l?l(\"string\"==typeof n||\"number\"==typeof n?p(null,n,null,null,n):null!=n.__e||null!=n.__c?p(n.type,n.props,n.key,null,n.__v):n):n);return u}function P(n,l,u,i,t){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||N(n,r,null,u[r],i);for(r in l)t&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||N(n,r,l[r],u[r],i)}function C(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=\"number\"==typeof u&&!1===s.test(l)?u+\"px\":null==u?\"\":u}function N(n,l,u,i,t){var r,o,f,e,c;if(t?\"className\"===l&&(l=\"class\"):\"class\"===l&&(l=\"className\"),\"style\"===l)if(r=n.style,\"string\"==typeof u)r.cssText=u;else{if(\"string\"==typeof i&&(r.cssText=\"\",i=null),i)for(e in i)u&&e in u||C(r,e,\"\");if(u)for(c in u)i&&u[c]===i[c]||C(r,c,u[c])}else\"o\"===l[0]&&\"n\"===l[1]?(o=l!==(l=l.replace(/Capture$/,\"\")),f=l.toLowerCase(),l=(f in n?f:l).slice(2),u?(i||n.addEventListener(l,z,o),(n.l||(n.l={}))[l]=u):n.removeEventListener(l,z,o)):\"list\"!==l&&\"tagName\"!==l&&\"form\"!==l&&\"type\"!==l&&\"size\"!==l&&!t&&l in n?n[l]=null==u?\"\":u:\"function\"!=typeof u&&\"dangerouslySetInnerHTML\"!==l&&(l!==(l=l.replace(/^xlink:?/,\"\"))?null==u||!1===u?n.removeAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase()):n.setAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase(),u):null==u||!1===u&&!/^ar/.test(l)?n.removeAttribute(l):n.setAttribute(l,u))}function z(l){this.l[l.type](n.event?n.event(l):l)}function A(l,u,i,t,r,o,f,e,c){var s,v,h,p,y,w,k,g,_,x,P=u.type;if(void 0!==u.constructor)return null;(s=n.__b)&&s(u);try{n:if(\"function\"==typeof P){if(g=u.props,_=(s=P.contextType)&&t[s.__c],x=s?_?_.props.value:s.__:t,i.__c?k=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new m(g,x),v.constructor=P,v.render=E),_&&_.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=a({},v.__s)),a(v.__s,P.getDerivedStateFromProps(g,v.__s))),p=v.props,y=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==p&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v&&!v.__){for(v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,v.__h.length&&f.push(v),s=0;s<u.__k.length;s++)u.__k[s]&&(u.__k[s].__=u);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(p,y,w)})}v.context=x,v.props=g,v.state=v.__s,(s=n.__r)&&s(u),v.__d=!1,v.__v=u,v.__P=l,s=v.render(v.props,v.state,v.context),u.__k=null!=s&&s.type==d&&null==s.key?s.props.children:Array.isArray(s)?s:[s],null!=v.getChildContext&&(t=a(a({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(w=v.getSnapshotBeforeUpdate(p,y)),b(l,u,i,t,r,o,f,e,c),v.base=u.__e,v.__h.length&&f.push(v),k&&(v.__E=v.__=null),v.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=$(i.__e,u,i,t,r,o,f,c);(s=n.diffed)&&s(u)}catch(l){u.__v=null,n.__e(l,u,i)}return u.__e}function T(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function $(n,l,u,i,t,r,o,f){var s,a,v,h,p,y=u.props,d=l.props;if(t=\"svg\"===l.type||t,null!=r)for(s=0;s<r.length;s++)if(null!=(a=r[s])&&((null===l.type?3===a.nodeType:a.localName===l.type)||n==a)){n=a,r[s]=null;break}if(null==n){if(null===l.type)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",l.type):document.createElement(l.type,d.is&&{is:d.is}),r=null,f=!1}if(null===l.type)y!==d&&n.data!=d&&(n.data=d);else{if(null!=r&&(r=c.slice.call(n.childNodes)),v=(y=u.props||e).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!f){if(y===e)for(y={},p=0;p<n.attributes.length;p++)y[n.attributes[p].name]=n.attributes[p].value;(h||v)&&(h&&v&&h.__html==v.__html||(n.innerHTML=h&&h.__html||\"\"))}P(n,d,y,t,f),h?l.__k=[]:(l.__k=l.props.children,b(n,l,u,i,\"foreignObject\"!==l.type&&t,r,o,e,f)),f||(\"value\"in d&&void 0!==(s=d.value)&&s!==n.value&&N(n,\"value\",s,y.value,!1),\"checked\"in d&&void 0!==(s=d.checked)&&s!==n.checked&&N(n,\"checked\",s,y.checked,!1))}return n}function j(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function D(l,u,i){var t,r,o;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||j(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(r=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(o=0;o<t.length;o++)t[o]&&D(t[o],u,i);null!=r&&v(r)}function E(n,l,u){return this.constructor(n,u)}function H(l,u,i){var t,r,f;n.__&&n.__(l,u),r=(t=i===o)?null:i&&i.__k||u.__k,l=h(d,null,[l]),f=[],A(u,(t?u:i||u).__k=l,r||e,e,void 0!==u.ownerSVGElement,i&&!t?[i]:r?null:c.slice.call(u.childNodes),f,i||e,t),T(f,l)}function I(n,l){H(n,l,o)}function L(n,l){var u,i;for(i in l=a(a({},n.props),l),arguments.length>2&&(l.children=c.slice.call(arguments,2)),u={},l)\"key\"!==i&&\"ref\"!==i&&(u[i]=l[i]);return p(n.type,u,l.key||n.key,l.ref||n.ref,null)}function M(n){var l={},u={__c:\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var i,t=this;return this.getChildContext||(i=[],this.getChildContext=function(){return l[u.__c]=t,l},this.shouldComponentUpdate=function(n){t.props.value!==n.value&&i.some(function(l){l.context=n.value,g(l)})},this.sub=function(n){i.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){i.splice(i.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Consumer.contextType=u,u.Provider.__=u,u}n={__e:function(n,l){for(var u,i;l=l.__;)if((u=l.__c)&&!u.__)try{if(u.constructor&&null!=u.constructor.getDerivedStateFromError&&(i=!0,u.setState(u.constructor.getDerivedStateFromError(n))),null!=u.componentDidCatch&&(i=!0,u.componentDidCatch(n)),i)return g(u.__E=u)}catch(l){n=l}throw n}},l=function(n){return null!=n&&void 0===n.constructor},m.prototype.setState=function(n,l){var u;u=this.__s!==this.state?this.__s:this.__s=a({},this.state),\"function\"==typeof n&&(n=n(u,this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),g(this))},m.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),g(this))},m.prototype.render=d,u=[],i=0,t=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,o=e,f=0;export{H as render,I as hydrate,h as createElement,h,d as Fragment,y as createRef,l as isValidElement,m as Component,L as cloneElement,M as createContext,x as toChildArray,D as _unmount,n as options};\n//# sourceMappingURL=preact.module.js.map\n","\nexport const RGBtoHSL = (rgb) => {\n  // Make r, g, and b fractions of 1\n  let r = rgb[0] / 255\n  let g = rgb[1] / 255\n  let b = rgb[2] / 255\n\n  // Find greatest and smallest channel values\n  let cmin = Math.min(r, g, b)\n  let cmax = Math.max(r, g, b)\n  let delta = cmax - cmin\n  let h = 0\n  let s = 0\n  let l = 0\n\n  if (delta === 0) {\n    h = 0\n  } else if (cmax === r) {\n    h = ((g - b) / delta) % 6\n  } else if (cmax === g) {\n    h = (b - r) / delta + 2\n  } else {\n    h = (r - g) / delta + 4\n  }\n\n  h = Math.round(h * 60)\n\n  // Make negative hues positive behind 360°\n  if (h < 0) h += 360\n\n  l = (cmax + cmin) / 2\n\n  // Calculate saturation\n  s = delta === 0 ? 0 : delta / (1 - Math.abs(2 * l - 1))\n\n  // Multiply l and s by 100\n  s = +(s * 100).toFixed(1)\n  l = +(l * 100).toFixed(1)\n\n  return [ Math.floor(h), Math.floor(s), Math.floor(l), 255 ]\n}\n\nexport const HSLtoRGB = (hsl) => {\n  const h = hsl[0]\n  const s = hsl[1] / 100\n  const l = hsl[2] / 100\n\n  let c = (1 - Math.abs(2 * l - 1)) * s\n  let x = c * (1 - Math.abs((hsl[0] / 60) % 2 - 1))\n  let m = l - c / 2\n  let r = 0\n  let g = 0\n  let b = 0\n\n  if (h >= 0 && h < 60) {\n    r = c; g = x; b = 0\n  } else if (h >= 60 && h < 120) {\n    r = x; g = c; b = 0\n  } else if (h >= 120 && h < 180) {\n    r = 0; g = c; b = x\n  } else if (h >= 180 && h < 240) {\n    r = 0; g = x; b = c\n  } else if (h >= 240 && h < 300) {\n    r = x; g = 0; b = c\n  } else if (h >= 300 && h < 360) {\n    r = c; g = 0; b = x\n  }\n\n  r = Math.round((r + m) * 255)\n  g = Math.round((g + m) * 255)\n  b = Math.round((b + m) * 255)\n\n  return [ r, g, b, 255 ]\n}","import { RGBtoHSL } from './utils'\n\nexport const ENV = window.location.href.includes('localhost:4000') ? 'DEV' : 'PROD'\nexport const APP = {}\nexport const VIEW = { render: undefined }\nexport const canvases = ['canvasSelection', 'canvasPreview', 'canvasTemp', 'canvasFinal', 'canvasView']\n\nconst initAppDefault = (w, h) => {\n  APP.width = w\n  APP.height = h\n  APP.tool = 'pencil'\n\n  APP.frameActive = 0\n  APP.layerActive = 0\n  APP.frameCount = 1 \n  APP.layerCount = 1  \n  APP.layers = [\n    {\n      name: 'Layer 1',\n      hidden: false,\n      frames: [new ImageData(w, h)]\n    }\n  ]\n  \n  APP.color = {}\n  APP.color.rgb = [100, 188, 156, 255]\n  APP.color.hsl = RGBtoHSL(APP.color.rgb)\n\n  APP.palette = [\n    [26, 188, 156, 255],\n    [46, 204, 113, 255],\n    [52, 152, 219, 255],\n    [155, 89, 182, 255],\n    [52, 73, 94, 255],\n    [22, 160, 133, 255],\n    [39, 174, 96, 255],\n    [41, 128, 185, 255],\n    [142, 68, 173, 255],\n    [44, 62, 80, 255],\n    [241, 196, 15, 255],\n    [230, 126, 34, 255],\n    [231, 76, 60, 255],\n    [236, 240, 241, 255],\n    [149, 165, 166, 255],\n    [243, 156, 18, 255],\n    [211, 84, 0, 255],\n    [192, 57, 43, 255],\n    [189, 195, 199, 255],\n    [127, 140, 141, 255]\n  ]\n  \n  Object.seal(APP)\n}\n\nexport const initCanvases = () => {\n  canvases.forEach(canvas => {\n    VIEW[canvas].dom = canvas === 'canvasView' ? document.querySelector('#canvas-view') : document.createElement('canvas')\n    VIEW[canvas].dom.width = APP.width\n    VIEW[canvas].dom.height = APP.height\n    VIEW[canvas].ctx = VIEW[canvas].dom.getContext('2d')\n    VIEW[canvas].imgData = VIEW[canvas].ctx.getImageData(0, 0, APP.width, APP.height)\n  })\n}\n\nconst initViewDefault = (preventOnMount) => {\n  VIEW.activeInput = {\n    id: '',\n    val: ''\n  }\n\n  VIEW.window = {\n    request: '',\n    mouseDown: false,\n    startX: 0,\n    startY: 0,\n    prevX: 0,\n    prevY: 0,\n    currX: 0,\n    currY: 0\n  }\n\n  VIEW.file = { open: false }\n  VIEW.newCanvas = { open: false, w: 32, h: 32 }\n  VIEW.downloadCanvas = { open: false, size: 2, type: 'frame' }\n\n  VIEW.brushSize = 0\n\n  VIEW.timerID = undefined\n  VIEW.isPlaying = false\n  VIEW.onionSkinning = false\n\n  VIEW.undo = []\n  VIEW.undoPos = -1\n  VIEW.currUndoRef = {}\n\n  // need to reset these on new project\n  canvases.forEach(canvas => {\n    VIEW[canvas] = {\n      dom: undefined,\n      ctx: undefined,\n      imgData: undefined\n    }\n  })\n\n  if (preventOnMount !== true) {\n    initCanvases()\n  }\n\n  Object.seal(VIEW)\n}\n\nexport const newData = (w, h, preventOnMount) => {\n  initAppDefault(w, h)\n  initViewDefault(preventOnMount)\n}","import { VIEW } from './state'\n\nexport const addToUndo = (action, type = '') => {\n  VIEW.undo.splice(0, VIEW.undoPos + 1, {\n    icon: `${action}.svg`,\n    action: `${action} ${type}`,\n    undo: undo,\n    redo: redo\n  })\n\n  if (VIEW.undoPos >= 0) VIEW.undoPos = -1  \n  if (VIEW.undo.length > 50) VIEW.undo.pop()\n\n  VIEW.currUndoRef = VIEW.undo[VIEW.undoPos + 1]\n}\n\nexport const undo = () => {\n  if (VIEW.undoPos + 1 === VIEW.undo.length) return\n\n  VIEW.undoPos += 1\n  VIEW.undo[VIEW.undoPos].undo()\n\n  VIEW.render()\n}\n\nexport const redo = () => {\n  if (VIEW.undoPos - 1 === -2) return\n\n  if (VIEW.undo[VIEW.undoPos].redo) VIEW.undo[VIEW.undoPos].redo()\n  VIEW.undoPos -= 1\n\n  VIEW.render()\n}","import { h } from 'preact'\nimport { APP, VIEW } from '../state'\n\nexport const setTool = (tool) => {\n  APP.tool = tool\n  VIEW.render()\n}\n\nexport const Toolbar = () => {\n  return <div class='w-40 bg-light bord-dark-r'>\n    {\n      ['pencil', 'eraser', 'line', 'circle', 'square', 'fill', 'eye-dropper', 'move'].map(tool => \n        <button\n          onClick={() => { setTool(tool) }}\n          class=\"fl fl-center m-0 p-0 w-40 h-40 bord-dark-r\"\n          style={`${APP.tool === tool ? 'background: rgba(52, 152, 219, 255);' : ''}`}>\n          <img src={`img/${tool}.svg`} />\n        </button>\n      )\n    }\n  </div>\n}\n\n","import { undo, redo } from './undo-redo'\nimport { setTool } from './components/toolbar'\n\nconst keyMap = {\n  metaKey: {\n    z: undo\n  },\n  shiftKey: {\n    metaKey: {\n      z: redo\n    }\n  },\n  b: () => {\n    setTool('pencil')\n  },\n  e: () => {\n    setTool('eraser')\n  },\n  u: () => {\n    setTool('line')\n  },\n  g: () => {\n    setTool('fill')\n  },\n  l: () => {\n    setTool('eye-dropper')\n  },\n  v: () => {\n    setTool('move')\n  }\n}\n\nlet shiftKeyMark = Date.now()\nlet metaKeyMark = Date.now()\nlet alphaKeyMark = Date.now()\n\nexport const setupKeyListeners = () => {\n  window.addEventListener('keydown', (e) => {\n    if (e.target.tagName === 'INPUT') {\n      return\n    }\n\n    const key = e.key.toLowerCase()\n    \n    if (!e.repeat && key === 'meta') {\n      metaKeyMark = Date.now()\n    } \n\n    if (!e.repeat && key === 'shift') {\n      shiftKeyMark = Date.now()\n    } \n\n    if (!e.repeat && key === 'z') {\n      alphaKeyMark = Date.now()\n    }\n\n    if (e.shiftKey && e.metaKey) {\n      if ((shiftKeyMark < metaKeyMark < alphaKeyMark) && key === 'z') {\n        keyMap.shiftKey.metaKey['z']()\n      }\n    }\n    \n    if (!e.shiftKey && e.metaKey) {\n      if ((metaKeyMark < alphaKeyMark) && key === 'z') {\n        keyMap.metaKey['z']()\n      }\n    }\n\n    if (e.shiftKey && !e.metaKey) {\n      if ((shiftKeyMark < alphaKeyMark) && key === 'z') {\n        // keyMap.shiftKey['z']()\n      }\n    }\n\n    if (!e.shiftKey && !e.metaKey && keyMap[e.key.toLowerCase()]) {\n      keyMap[e.key.toLowerCase()]()\n    }\n  })\n}\n","import { h, render, createRef } from 'preact'\nimport { RGBtoHSL, HSLtoRGB } from '../utils'\nimport { APP, VIEW } from '../state'\nimport { addToUndo, undo, redo } from '../undo-redo'\n\nconst enableActiveInput = (id, val) => {\n  VIEW.activeInput.id = id\n  VIEW.activeInput.val = val\n  \n  VIEW.render()\n}\n\nconst disableActiveInput = () => {\n  VIEW.activeInput.id = ''\n  VIEW.activeInput.val = ''\n  \n  VIEW.render()\n}\n\nconst setActiveInput = (val) => {\n  VIEW.activeInput.val = val\n}\n\nexport const setRGB = (newRGB) => {\n  const rgb = newRGB\n  const hsl = RGBtoHSL(rgb)\n\n  APP.color.rgb = rgb\n  APP.color.hsl = hsl\n\n  VIEW.render()\n}\n\nconst setHSL = (newHSL) => {\n  const hsl = newHSL\n  const rgb = HSLtoRGB(hsl)\n\n  APP.color.hsl = hsl\n  APP.color.rgb = rgb\n  \n  VIEW.render()\n}\n\nconst setRed = (e) => {\n  const r = parseInt(e.target.value)\n\n  if (r >= 0 && r <= 255) {\n    const newRGB = [r, APP.color.rgb[1], APP.color.rgb[2], APP.color.rgb[3]]\n    setRGB(newRGB)\n  }\n}\n\nconst setGreen = (e) => {\n  const g = parseInt(e.target.value)\n\n  if (g >= 0 && g <= 255) {\n    const newRGB = [APP.color.rgb[0], g, APP.color.rgb[2], APP.color.rgb[3]]\n    setRGB(newRGB)\n  }\n}\n\nconst setBlue = (e) => {\n  const b = parseInt(e.target.value)\n\n  if (b >= 0 && b <= 255) {\n    const newRGB = [APP.color.rgb[0], APP.color.rgb[1], b, APP.color.rgb[3]]\n    setRGB(newRGB)\n  }\n}\n\nconst setHue = (e) => {\n  const h = parseInt(e.target.value)\n  \n  if (h >= 0 && h <= 360) {\n    const newHSL = [h, APP.color.hsl[1], APP.color.hsl[2], APP.color.hsl[3]]\n    setHSL(newHSL)\n  }\n}\n\nconst setSaturation = (e) => {\n  const s = parseInt(e.target.value)\n  \n  if (s >= 0 && s <= 100) {\n    const newHSL = [APP.color.hsl[0], s, APP.color.hsl[2], APP.color.hsl[3]]\n    setHSL(newHSL)\n  }\n}\n\nconst setLightness = (e) => {\n  const l = parseInt(e.target.value)\n  \n  if (l >= 0 && l <= 100) {\n    const newHSL = [APP.color.hsl[0], APP.color.hsl[1], l, APP.color.hsl[3]]\n    setHSL(newHSL)\n  }\n}\n\nconst setHex = () => {}\n\nconst paletteAdd = () => {\n  APP.palette.push(APP.color.rgb)\n  \n  VIEW.render()\n}\n\nconst paletteDelete = (i) => {\n  const index = APP.palette.indexOf(APP.color.rgb)\n\n  if (index !== -1) {\n    APP.palette.splice(index, 1)\n    VIEW.render()\n  } \n}\n\nexport const Color = () => {\n  return (\n    <div>\n      <div class='h-30 bg-mid bord-dark-b fl fl-center-y p-h-10'>\n        <small><b>Color</b></small>\n      </div>\n      <div class='fl-column overflow-none p-10'>\n        <div class='b-r-2 overflow-none fl-column'>\n          {\n            [\n              {\n                id: 'color-hue-range',\n                min: 0,\n                max: 360,\n                func: setHue,\n                style: `min-height: 26px; background: linear-gradient(to right, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);`\n              }, {\n                id: 'color-saturation-range',\n                min: 0,\n                max: 100,\n                func: setSaturation,\n                style: `min-height: 26px; background: linear-gradient(to right, hsl(${APP.color.hsl[0]}, 0%, 50%) 0%,hsl(${APP.color.hsl[0]}, 100%, 50%) 100%);`\n              }, {\n                id: 'color-lightness-range',\n                min: 0,\n                max: 100,\n                func: setLightness,\n                style: `min-height: 26px; background: linear-gradient(to right, hsl(${APP.color.hsl[0]}, 100%, 0%) 0%, hsl(${APP.color.hsl[0]}, 100%, 50%) 50%, hsl(${APP.color.hsl[0]}, 100%, 100%) 100%)`\n              }\n            ].map((item, i) => {\n              return <input\n                type='range'\n                min={item.min}\n                max={item.max}\n                style={item.style}\n                class='fl-1 m-0'\n                onFocus={(e) => {\n                  enableActiveInput(item.id, APP.color.hsl[i])\n                }}\n                onFocusOut={() => {\n                  disableActiveInput()\n                }}\n                onInput={(e) => {\n                  setActiveInput(e.target.value)\n                  item.func(e)\n                }}\n                value={VIEW.activeInput.id === item.id ? VIEW.activeInput.val : APP.color.hsl[i]}\n              />\n            })\n          }\n        </div>\n        <div class='p-v-10'>\n          <div class='fl fl-center-y' style='margin-bottom: 2px;'>\n            <small style='width: 50px; font-size: 11px;'>HSL</small>\n            {\n              [\n                {\n                  id: 'color-hue-text',\n                  func: setHue\n                }, {\n                  id: 'color-saturation-text',\n                  func: setSaturation\n                }, {\n                  id: 'color-lightness-text',\n                  func: setLightness\n                }\n              ].map((item, i) => {\n                return <input\n                  class='fl-1'\n                  type='number'\n                  style={`margin-right: ${i === 2 ? 0 : 2}px;`}\n                  onFocus={(e) => {\n                    enableActiveInput(item.id, APP.color.hsl[i])\n                  }}\n                  onFocusOut={() => {\n                    disableActiveInput()\n                  }}\n                  onInput={(e) => {\n                    setActiveInput(e.target.value)\n                    item.func(e)\n                  }}\n                  value={VIEW.activeInput.id === item.id ? VIEW.activeInput.val : APP.color.hsl[i]}\n                />\n              })\n            }\n          </div>\n          <div class='fl fl-center-y' style='margin-bottom: 2px;'>\n            <small style='width: 50px; font-size: 11px;'>RGB</small>\n            {\n              [\n                {\n                  id: 'color-red-text',\n                  func: setRed\n                }, {\n                  id: 'color-green-text',\n                  func: setGreen\n                }, {\n                  id: 'color-blue-text',\n                  func: setBlue\n                }\n              ].map((item, i) => {\n                return <input\n                  class='fl-1'\n                  type='number'\n                  style={`margin-right: ${i === 2 ? 0 : 2}px;`}\n                  onFocus={(e) => {\n                    enableActiveInput(item.id, APP.color.rgb[i])\n                  }}\n                  onFocusOut={() => {\n                    disableActiveInput()\n                  }}\n                  onInput={(e) => {\n                    setActiveInput(e.target.value)\n                    item.func(e)\n                  }}\n                  value={VIEW.activeInput.id === item.id ? VIEW.activeInput.val : APP.color.rgb[i]}\n                />\n              })\n            }\n          </div>\n          {/* <div class='fl fl-center-y'>\n            <small style='width: 50px; font-size: 11px;'>HEX</small>\n            <input class='fl-1' type='text' />\n          </div> */}\n        </div>\n        <div class='fl'>\n          <div\n            class='fl-1 no-ptr h-25 b-r-2'\n            style={`margin-right: 10px; background: rgba(${APP.color.rgb[0]}, ${APP.color.rgb[1]}, ${APP.color.rgb[2]}, 255); margin-bottom: 10px; `}>\n          </div>\n          {APP.palette.filter(c =>\n            APP.color.rgb[0] === c[0] &&\n            APP.color.rgb[1] === c[1] &&\n            APP.color.rgb[2] === c[2] &&\n            APP.color.rgb[3] === c[3])\n            .length === 0\n            ? <button\n                onClick={() => { paletteAdd() }}\n                class='w-30 h-25 fl fl-center bg-dark bord-dark b-r-2'>\n                <img src={`img/insert.svg`} />\n              </button>\n            : <button\n              onClick={() => { paletteDelete() }}\n              class='w-30 h-25 fl fl-center bg-dark bord-dark b-r-2'>\n              <img src={`img/delete.svg`} />\n            </button>\n          }\n        </div>\n        <div class='fl fl-wrap overflow-none b-r-2' style='align-content: baseline;'>\n          {\n            APP.palette.map(c =>\n              <button\n                onClick={() => {\n                  setRGB(c)\n                }}\n                class='m-0'\n                style={`\n                  width: 44px;\n                  min-height: 25px;\n                  background: rgba(${c[0]}, ${c[1]}, ${c[2]}, ${c[3]});\n                  border: ${\n                    APP.color.rgb[0] === c[0] &&\n                    APP.color.rgb[1] === c[1] &&\n                    APP.color.rgb[2] === c[2] &&\n                    APP.color.rgb[3] === c[3] ? '2px solid rgba(61,61,61, 1)' : '2px solid rgba(61,61,61, 0)'};\n                  box-shadow: inset 0px 0px 0px 1px rgba(255, 255, 255, ${\n                    APP.color.rgb[0] === c[0] &&\n                    APP.color.rgb[1] === c[1] &&\n                    APP.color.rgb[2] === c[2] &&\n                    APP.color.rgb[3] === c[3] ? '255' : '0'});\n                `} />\n            )\n          }\n        </div>\n      </div>\n    </div>\n  )\n}","import { h, render } from 'preact'\nimport { APP, VIEW } from '../state'\nimport { addToUndo } from '../undo-redo'\n\nconst setTargetCanvas = (frame, layer) => {\n  if (frame === undefined) console.error('setTargetCanvas - no frame given')\n  if (layer === undefined) console.error('setTargetCanvas - no layer given')\n\n  APP.frameActive = frame\n  APP.layerActive = layer\n\n  VIEW.render()\n}\n\nconst seq = (request, type, data) => {\n  const inserting = request === 'insert' || request === 'duplicate'\n  \n  function action (req, ref, target, entry) {\n    if (req === 'insert') ref.splice(target + 1, 0, entry)\n    if (req === 'delete') ref.splice(target, 1)\n  }\n\n  if (type === 'layer') {\n    if (request === 'insert') {\n      action(request, APP.layers, APP.layerActive, data)\n    }\n\n    if (request === 'delete') {\n      action(request, APP.layers, APP.layerActive)\n    }\n  }\n\n  if (type === 'frame') {\n    if (request === 'insert') {\n      APP.layers.forEach((layer, i) => {\n        const entry = new ImageData(APP.width, APP.height)\n        entry.data.set(data[i].data)\n        action(request, layer.frames, APP.frameActive, entry)\n      })\n    }\n\n    if (request === 'delete') {\n      APP.layers.forEach(layer => {\n        action(request, layer.frames, APP.frameActive)\n      })\n    }\n  }\n\n  APP[`${type}Count`] += (inserting ? 1 : -1)\n\n  if (inserting) {\n    APP[`${type}Active`] += 1\n  } \n  \n  if (request === 'delete') {\n    if (APP[`${type}Active`] === APP[`${type}Count`]) {\n      APP[`${type}Active`] -= 1\n    } \n  }\n}\n\nexport const timelineManager = ({ type, request, requestType, data, disableUndoRedo }) => {\n  const layerActive = APP.layerActive\n  const frameActive = APP.frameActive\n  const layerCount = APP.layerCount\n  const frameCount = APP.frameCount\n\n  if (!disableUndoRedo) {\n    addToUndo(request, type)\n\n    VIEW.currUndoRef.redo = () => {\n      APP.frameCount = frameCount\n      APP.layerCount = layerCount\n      APP.frameActive = frameActive\n      APP.layerActive = layerActive\n      timelineManager({ type, request, requestType, data, disableUndoRedo: true })\n    }\n  }\n\n  const newData = type === 'layer' ? {\n    name: `Layer ${layerCount + 1}`,\n    hidden: false,\n    frames: new Array(frameCount).fill(undefined).map(frame => new ImageData(APP.width, APP.height))\n  } : new Array(APP.layerCount)\n    .fill(undefined)\n    .map(item => {\n      return new ImageData(APP.width, APP.height)\n    })\n  \n  const cloneData = type === 'layer' ? {\n    name: `${APP.layers[layerActive].name} ${requestType === 'clone' ? '(Copy)' : ''}`,\n    hidden: false,\n    frames: new Array(frameCount)\n      .fill(undefined)\n      .map((frame, frameI) => {\n        const imgData = new ImageData(APP.width, APP.height)\n        imgData.data.set(APP.layers[layerActive].frames[frameI].data)\n        return imgData\n      })\n  } : new Array(layerCount)\n      .fill(undefined)\n      .map((item, i) => {\n        const copy = new ImageData(APP.width, APP.height)\n        copy.data.set(APP.layers[i].frames[frameActive].data)\n        return copy\n      })\n  \n  if ((type === 'layer' || type === 'frame') && (requestType === 'new' || requestType === 'clone')) {\n    seq('insert', type, requestType === 'new' ? newData : cloneData)\n  }\n\n  if ((type === 'layer' || type === 'frame') && request === 'delete') {\n    if (APP[`${type}Count`] - 1 === 0) {\n      seq('delete', type)\n      if (type === 'layer') newData.name = 'Layer 1'\n      seq('insert', type, newData)\n    } else {\n      seq('delete', type)\n    }\n  }\n\n  const layerActiveAfter = APP.layerActive\n  const frameActiveAfter = APP.frameActive\n  const layerCountAfter = APP.layerCount\n  const frameCountAfter = APP.frameCount\n  \n  if (!disableUndoRedo) {\n    VIEW.currUndoRef.undo = () => {\n      APP.frameCount = frameCountAfter\n      APP.layerCount = layerCountAfter\n  \n      if (type === 'layer') {\n        APP.frameActive = frameActiveAfter\n        \n        if (request === 'insert') {\n          APP.layerActive = layerActiveAfter\n          seq('delete', type)\n        }\n  \n        if (request === 'delete' && layerCount !== 1) {\n          APP.layerActive = layerActive - 1\n          seq('insert', type, cloneData)\n        }\n\n        if (request === 'delete' && layerCount === 1) {\n          seq('delete', type)\n          seq('insert', type, cloneData)\n        }\n      }\n\n      if (type === 'frame') {\n        APP.layerActive = layerActiveAfter\n        \n        if (request === 'insert') {\n          APP.frameActive = frameActiveAfter\n          seq('delete', type)\n        }\n  \n        if (request === 'delete' && frameCount !== 1) {\n          APP.frameActive = frameActive - 1\n          seq('insert', type, cloneData)\n        }\n\n        if (request === 'delete' && frameCount === 1) {\n          seq('delete', type)\n          seq('insert', type, cloneData)\n        }\n      }\n    }\n  }\n\n  VIEW.render()\n}\n\nconst swap = (type, dir) => {\n  const step = dir === 'up' ? -1 : 1\n  const active = type === 'layer' ? 'layerActive' : 'frameActive'\n  const length = type === 'layer' ? APP.layerCount : APP.frameCount\n\n  if (APP[active] + step === -1) return\n  if (APP[active] + step === length) return\n\n  if (type === 'layer') {\n    const temp = APP.layers[APP.layerActive + step]\n    APP.layers[APP.layerActive + step] = APP.layers[APP.layerActive]\n    APP.layers[APP.layerActive] = temp\n  }\n\n  if (type === 'frame') {\n    APP.layers.forEach(layer => {\n      const temp = layer.frames[APP.frameActive + step]\n      layer.frames[APP.frameActive + step] = layer.frames[APP.frameActive]\n      layer.frames[APP.frameActive] = temp\n    })\n  }\n\n  APP[active] += step\n\n  VIEW.render()\n}\n\nconst layersEditHidden = (i) => {\n  APP.layers[i].hidden = !APP.layers[i].hidden\n  VIEW.render()\n}\n\nconst nextFrame = () => {\n  APP.frameActive = (APP.frameActive + 1) % APP.frameCount\n  VIEW.render()\n}\n\nconst lastFrame = () => {\n  APP.frameActive = APP.frameActive - 1 === -1 ? APP.frameCount - 1 : APP.frameActive - 1\n  VIEW.render()\n}\n\n// Animation\nconst scheduler = () => {\n  APP.frameActive = (APP.frameActive + 1) % APP.frameCount\n  VIEW.render()\n  VIEW.timerID = setTimeout(scheduler, 100)\n}\n\nconst togglePlay = () => {\n  if (APP.frameCount === 1) return\n\n  if (VIEW.isPlaying) {\n    clearTimeout(VIEW.timerID)\n  } else {\n    scheduler()\n  }\n  \n  VIEW.isPlaying = !VIEW.isPlaying\n  VIEW.render()\n}\n\nexport const Timeline= () => {\n  return (\n    <div class='bg-light bord-dark-t fl-column' style='height: 250px;'>\n        <div class='fl w-full bord-dark-b h-30'>\n          <div class='fl fl-justify-between bord-dark-r' style='width: 210px;'>\n            {/* <div style='width: 90px;' class='p-h-10 fl fl-center-y bord-dark-r'>\n              <small><b>Layers</b></small>\n            </div> */}\n            <div class='fl'>\n              <button\n                onClick={() => { if (APP.layerCount < 30) timelineManager({ type:'layer', request: 'insert', requestType: 'new' }) }}\n                class='w-30 fl fl-center bord-dark-r' >\n                <img src={`img/insert.svg`} />\n              </button>\n              <button\n                onClick={() => { timelineManager({ type:'layer', request: 'insert', requestType: 'clone' }) }}\n                class='w-30 fl fl-center bord-dark-r' >\n                <img src={`img/clone.svg`} />\n              </button>\n              <button\n                onClick={() => { swap('layer', 'down') }}\n                class='w-30 fl fl-center bord-dark-r'>\n                <img src={`img/up.svg`} />\n              </button>\n              <button\n                onClick={() => { swap('layer', 'up') }}\n                class='w-30 fl fl-center bord-dark-r'>\n                <img src={`img/down.svg`} />\n              </button>\n              <button\n                onClick={() => { timelineManager({ type:'layer', request: 'delete' }) }}\n                class='w-30 fl fl-center bord-dark-r'>\n                <img src={`img/delete.svg`} />\n              </button>\n            </div>\n          </div>\n          <div class='fl fl-1'>\n            <div class='fl'>\n              <button\n                onClick={() => { VIEW.onionSkinning = !VIEW.onionSkinning; VIEW.render() }}\n                class=\"fl fl-center m-0 p-0 w-30 bord-dark-r\"\n                style={VIEW.onionSkinning ? 'background: rgba(52, 152, 219, 255);' : ''}>\n                <img src=\"img/onion.svg\" />\n              </button>\n            </div>\n            <div class='fl-1 fl fl-justify-center'>\n              <div class='fl'>\n                <button\n                  onClick={() => { lastFrame() }}\n                  class=\"fl fl-center m-0 p-0 w-30 bord-dark-r bord-dark-l\" >\n                  <img src=\"img/lastframe.svg\" />\n                </button>\n                <button\n                  onClick={() => { togglePlay() }}\n                  class=\"fl fl-center m-0 p-0 w-30 bord-dark-r\" >\n                  <img src={`img/${VIEW.isPlaying ? 'stop.svg' : 'play.svg'}`} />\n                </button>\n                <button\n                  onClick={() => { nextFrame() }}\n                  class=\"fl fl-center m-0 p-0 w-30 bord-dark-r\" >\n                  <img src=\"img/nextframe.svg\" />\n                </button>\n              </div>\n            </div>\n            <div class='fl'>\n              <button\n                onClick={() => { if (!VIEW.isPlaying && APP.frameCount < 50) timelineManager({ type: 'frame', request: 'insert', requestType: 'new' }) }}\n                class='w-30 fl fl-center bord-dark-r bord-dark-l'>\n                <img src={`img/insert.svg`} />\n              </button>\n              <button\n                onClick={() => { timelineManager({ type:'frame', request: 'insert', requestType: 'clone' }) }}\n                class='w-30 fl fl-center bord-dark-r' >\n                <img src={`img/clone.svg`} />\n              </button>\n              <button\n                onClick={() => { if (!VIEW.isPlaying) swap('frame', 'up') }}\n                class='w-30 fl fl-center bord-dark-r'>\n                <img src={`img/up.svg`} style='transform: rotate(-90deg);'/>\n              </button>\n              <button\n                onClick={() => { if (!VIEW.isPlaying) swap('frame', 'down') }}\n                class='w-30 fl fl-center bord-dark-r'>\n                <img src={`img/down.svg`} style='transform: rotate(-90deg);' />\n              </button>\n              <button\n                onClick={() => { if (!VIEW.isPlaying) timelineManager({ type:'frame', request: 'delete' }) }}\n                class='w-30 fl fl-center'>\n                <img src={`img/delete.svg`} />\n              </button>\n            </div>\n          </div>\n        </div>\n        <div class='fl bg-mid' style='height: calc(100% - 30px);'>\n          <div id='layers' class='overflow hide-scroll' style='padding-bottom: 30px;'>\n            <div class='bord-dark-r fl-col-reverse' style='width: 210px;'>\n              {\n                APP.layers.map((layer, li) => {\n                  return <div\n                    class='fl bord-dark-b h-30'\n                    style={`background: ${APP.layerActive === li ? 'rgb(100, 100, 100)' :''};`}>\n                    <button\n                      style={`${layer.hidden ? 'background: rgba(52, 152, 219, 255);' : ''}`}\n                      onClick={() => { layersEditHidden(li) }}\n                      class='w-30 h-30 fl fl-center bord-dark-b'>\n                      <img src={`img/${layer.hidden ? 'eye-active.svg' : 'eye.svg'}`} />\n                    </button>\n                    <button\n                      onClick={() => { setTargetCanvas(APP.frameActive, li) }}\n                      class='fl-1 txt-left'>\n                      <small style='font-size: 11px;'><b>{layer.name}</b></small>\n                    </button>\n                  </div>\n                })\n              }\n            </div>\n          </div>\n          <div id='frames' class='fl-1 overflow hide-scroll' style='padding-bottom: 30px;'>\n            <div class='fl-col-reverse'>\n              {\n                APP.layers.map((layer, li) => {\n                  return <div\n                    class='fl'>\n                    {\n                      layer.frames.map((canvas, fi) => {\n                        return <button\n                          onClick={() => { setTargetCanvas(fi, li) }}\n                          class='w-30 h-30 fl fl-center bord-dark-r bord-dark-b bg-light rel'\n                          style={`\n                            background: ${\n                              APP.frameActive === fi && APP.layerActive === li\n                                ? 'rgba(52, 152, 219, 255)'\n                                : (APP.frameActive === fi || APP.layerActive === li)\n                                  ? 'rgba(100, 100, 100, 255)'\n                                  : 'rgba(0, 0, 0, 0)'\n                            };`}>\n                          <div class='abs bottom right p-5' ><small style='font-size: 8px;'><b>{fi + 1}</b></small></div>\n                          {/* <div class='bg-white' style='border-radius: 100%; width: 8px; height: 8px;' /> */}\n                        </button>\n                      })\n                    }\n                  </div>\n                })\n              }\n            </div>\n          </div>\n        </div>\n      </div>\n  )\n}","import { h, render } from 'preact'\nimport { APP, VIEW } from '../state'\nimport { addToUndo } from '../undo-redo'\nimport { setRGB } from './color'\n\nconst getPoint = (imgDataArr, x, y, w, h) => {\n  if (!imgDataArr) throw Error(`setPoint: ${imgDataArr} undefined`)\n  if (!imgDataArr.length) throw Error(`setPoint: ${imgDataArr} not a valid array`)\n\n  if (x >= 0 && x < w && y >= 0 && y < h) { // check bounds\n    const i = (x + w * y) * 4\n    return [\n      imgDataArr[i + 0],\n      imgDataArr[i + 1],\n      imgDataArr[i + 2],\n      imgDataArr[i + 3]\n    ]\n  }\n\n  return [0, 0, 0, 0]\n}\n\nconst setPoint = (imgDataArr, x, y, w, h, color) => {\n  if (!imgDataArr) throw Error(`setPoint: ${imgDataArr} undefined`)\n  if (!imgDataArr.length) throw Error(`setPoint: ${imgDataArr} not a valid array`)\n  \n  if (x >= 0 && x < w && y >= 0 && y < h) { // check bounds\n    const i = (x + w * y) * 4\n    imgDataArr[i + 0] = color[0]\n    imgDataArr[i + 1] = color[1]\n    imgDataArr[i + 2] = color[2]\n    imgDataArr[i + 3] = color[3]\n  }\n}\n\nconst areRGBAsEqual = (c1, a, c2, b) => {\n  return (\n    c1[a + 0] === c2[b + 0] &&\n    c1[a + 1] === c2[b + 1] &&\n    c1[a + 2] === c2[b + 2] &&\n    c1[a + 3] === c2[b + 3]\n  )\n}\n\nconst getColorAtPixel = (data, x, y, w) => {\n  const linearCord = (y * w + x) * 4\n\n  return [\n    data[linearCord + 0],\n    data[linearCord + 1],\n    data[linearCord + 2],\n    data[linearCord + 3]\n  ]\n}\n\nconst fill = (canvasImgData, startX, startY, w, h, color) => { // http://www.williammalone.com/articles/html5-canvas-javascript-paint-bucket-tool/\n  var linear_cords = (startY * w + startX) * 4;\n\n  var pixel_stack = [{ x: startX, y: startY }];\n  var original_color = getColorAtPixel(canvasImgData, startX, startY, w);\n\n  if (areRGBAsEqual(color, 0, original_color, 0)) {\n    return\n  }\n\n  while (pixel_stack.length > 0) {\n    var new_pixel = pixel_stack.shift();\n    var x = new_pixel.x;\n    var y = new_pixel.y;\n\n    linear_cords = (y * w + x) * 4;\n\n    while (\n      y-- >= 0 &&\n      canvasImgData[linear_cords + 0] === original_color[0] &&\n      canvasImgData[linear_cords + 1] === original_color[1] &&\n      canvasImgData[linear_cords + 2] === original_color[2] &&\n      canvasImgData[linear_cords + 3] === original_color[3]) {\n        linear_cords -= w * 4;\n    }\n\n    linear_cords += w * 4;\n    y++;\n\n    var reached_left = false;\n    var reached_right = false;\n\n    while (\n      y++ < h &&\n      canvasImgData[linear_cords + 0] === original_color[0] &&\n      canvasImgData[linear_cords + 1] === original_color[1] &&\n      canvasImgData[linear_cords + 2] === original_color[2] &&\n      canvasImgData[linear_cords + 3] === original_color[3]\n    ) {\n      canvasImgData[linear_cords + 0] = color[0];\n      canvasImgData[linear_cords + 1] = color[1];\n      canvasImgData[linear_cords + 2] = color[2];\n      canvasImgData[linear_cords + 3] = color[3];\n\n      if (x > 0) {\n        if (\n          canvasImgData[linear_cords - 4 + 0] === original_color[0] &&\n          canvasImgData[linear_cords - 4 + 1] === original_color[1] &&\n          canvasImgData[linear_cords - 4 + 2] === original_color[2] &&\n          canvasImgData[linear_cords - 4 + 3] === original_color[3]\n        ) {\n          if (!reached_left) {\n            pixel_stack.push({ x: x - 1, y: y });\n            reached_left = true;\n          }\n        } else if (reached_left) {\n          reached_left = false;\n        }\n      }\n  \n      if (x < w - 1) {\n        if (\n          canvasImgData[linear_cords + 4 + 0] === original_color[0] &&\n          canvasImgData[linear_cords + 4 + 1] === original_color[1] &&\n          canvasImgData[linear_cords + 4 + 2] === original_color[2] &&\n          canvasImgData[linear_cords + 4 + 3] === original_color[3]\n        ) {\n          if (!reached_right) {\n            pixel_stack.push({ x: x + 1, y: y });\n            reached_right = true;\n          }\n        } else if (reached_right) {\n          reached_right = false;\n        }\n      }\n      \n      linear_cords += w * 4;\n    }\n  }\n}\n\nconst line = (startX, startY, endX, endY, func) => {\n  let dx = Math.abs(endX - startX)\n  let dy = Math.abs(endY - startY)\n\n  let xDir = endX - startX >= 0 ? 1 : -1\n  let yDir = endY - startY >= 0 ? 1 : -1\n  \n  let lineX = startX\n  let lineY = startY\n\n  let step = dx >= dy ? dx : dy\n\n  dx = dx / step\n  dy = dy / step\n  \n  let i = 0\n  while (i < step) {\n    func(Math.floor(lineX), Math.floor(lineY))\n\n    lineX += (dx * xDir)\n    lineY += (dy * yDir)\n    i += 1\n  }\n\n  func(Math.floor(lineX), Math.floor(lineY))\n}\n\nconst circle = (xCenter, yCenter, currX, currY, func) => {\n  let radius = Math.floor(Math.sqrt(Math.pow((currX - xCenter), 2) + Math.pow((currY - yCenter), 2)))\n\n  if (radius <= 0) return\n\n  let x = 0\n  let y = radius\n  let p = 1 - radius\n\n  const circlePlot = () => {\n    func(xCenter + x, yCenter + y)\n    func(xCenter + y, yCenter + x)\n    func(xCenter - x, yCenter + y)\n    func(xCenter - y, yCenter + x)\n    func(xCenter + x, yCenter - y)\n    func(xCenter + y, yCenter - x)\n    func(xCenter - x, yCenter - y)\n    func(xCenter - y, yCenter - x)\n  }\n\n  // Plot first set of points\n  circlePlot(xCenter, yCenter, x, y)\n\n  while (x <= y) {\n    x++\n    if (p < 0) {\n      p += 2 * x + 1 // Mid point is inside therefore y remains same\n    } else { // Mid point is outside the circle so y decreases\n      y--\n      p += 2 * (x - y) + 1\n    }\n\n    circlePlot(xCenter, yCenter, x, y)\n  }\n}\n\nconst squareFilled = (startX, startY, endX, endY, w, h, color, func) => {\n  let points = []\n\n  let dx = Math.abs(endX - startX)\n  let dy = Math.abs(endY - startY)\n\n  let xDir = endX - startX >= 0 ? 1 : -1\n  let yDir = endY - startY >= 0 ? 1 : -1\n\n  let lineX = startX\n  let lineY = startY\n\n  let xStep = 0\n  let yStep = 0\n\n  while (xStep <= dx) {\n    yStep = 0\n    lineY = startY\n\n    while (yStep <= dy) {\n      func(lineX, lineY)\n      //points.push({ x: lineX, y: lineY })\n\n      lineY += (1 * yDir)\n      yStep += 1\n    }\n\n    lineX += (1 * xDir)\n    xStep += 1\n  }\n\n  return points\n}\n\nconst square = (startX, startY, endX, endY, func) => {\n  let dx = Math.abs(endX - startX)\n  let dy = Math.abs(endY - startY)\n\n  let xDir = endX - startX >= 0 ? 1 : -1\n  let yDir = endY - startY >= 0 ? 1 : -1\n\n  let lineX = startX\n  let lineY = startY\n  let i = 0\n\n  func(lineX, lineY)\n\n  while (i < dx) {\n    lineX += (1 * xDir)\n    func(lineX, startY)\n    func(lineX, (startY + (dy * yDir)))\n    i += 1\n  }\n\n  i = 0\n\n  while (i < dy) {\n    lineY += (1 * yDir)\n    func(startX, lineY)\n    func((startX + (dx * xDir)), lineY)\n    i += 1\n  }\n}\n\nexport const paintCanvas = (gestureEvent) => {\n  // Reset\n  VIEW.canvasPreview.ctx.clearRect(0, 0, APP.width, APP.height)\n  VIEW.canvasPreview.imgData = VIEW.canvasPreview.ctx.getImageData(0, 0, APP.width, APP.height)\n\n  // Whole or Selection\n  const target = APP.layers[APP.layerActive].frames[APP.frameActive].data // or selection buffer\n  const preview = VIEW.canvasPreview.imgData.data\n\n  // Translate coordinates based on current screen position and canvas scale\n  const bb = VIEW.canvasView.dom.getBoundingClientRect()\n\n  const scaleX = bb.width / VIEW.canvasView.dom.width\n  const scaleY = bb.height / VIEW.canvasView.dom.height\n\n  const startX = Math.floor((VIEW.window.startX - bb.x) / scaleX)\n  const startY = Math.floor((VIEW.window.startY - bb.y) / scaleY)\n  const prevX = Math.floor((VIEW.window.prevX - bb.x) / scaleX)\n  const prevY = Math.floor((VIEW.window.prevY - bb.y) / scaleY)\n  const currX = Math.floor((VIEW.window.currX - bb.x) / scaleX)\n  const currY = Math.floor((VIEW.window.currY - bb.y) / scaleY)\n\n  const setBrushPoints = (canvas, x, y, w, h, color) => {\n    squareFilled(x - VIEW.brushSize, y - VIEW.brushSize, x + VIEW.brushSize, y + VIEW.brushSize, w, h, color, (x, y) => {\n      setPoint(canvas, x, y, w, h, color)\n    })\n  }\n\n  if (gestureEvent === 'hover' && APP.tool !== 'eye-dropper' && APP.tool !== 'move') {\n    setBrushPoints(preview, currX, currY, APP.width, APP.height, APP.tool !== 'eraser' ? APP.color.rgb : [0, 0, 0, 50])\n    VIEW.render()\n\n    return\n  }\n\n  // Setup Undo\n  if (gestureEvent === 'start' && APP.tool !== 'eye-dropper') {\n    const copy = new ImageData(APP.width, APP.height)\n    copy.data.set(APP.layers[APP.layerActive].frames[APP.frameActive].data)\n    const layerActive = APP.layerActive\n    const frameActive = APP.frameActive\n    \n    addToUndo(APP.tool)\n\n    VIEW.currUndoRef.undo = () => {\n      APP.frameActive = frameActive\n      APP.layerActive = layerActive\n      APP.layers[layerActive].frames[frameActive].data.set(copy.data)\n    }\n  }\n  \n  // Eye dropper\n  if (gestureEvent === 'end' && APP.tool === 'eye-dropper') {\n    const color = getPoint(target, currX, currY, APP.width, APP.height)\n    \n    if (color[3] !== 0) {\n      setRGB(color)\n    }\n  }\n\n  // Fill\n  if (gestureEvent === 'end' && APP.tool === 'fill') {\n    fill(target, currX, currY, APP.width, APP.height, APP.color.rgb)\n  }\n\n  // Points\n  if (APP.tool === 'pencil' || APP.tool === 'eraser') {\n    if (APP.tool === 'eraser') {\n      setBrushPoints(preview, currX, currY, APP.width, APP.height, [0, 0, 0, 50])\n    }\n    \n    line(prevX, prevY, currX, currY, (x, y) => {\n      setBrushPoints(target, x, y, APP.width, APP.height, APP.tool === 'pencil' ? APP.color.rgb : [0, 0, 0, 0])\n    })\n  }\n\n  // Geometry\n  if (APP.tool === 'line' || APP.tool === 'circle' || APP.tool === 'square') {\n    const funcs = { 'line': line, 'circle': circle, 'square': square }\n    \n    funcs[APP.tool](startX, startY, currX, currY, (x, y) => {\n      setBrushPoints(gestureEvent === 'start' || gestureEvent === 'resume' ? preview : target, x, y, APP.width, APP.height, APP.color.rgb)\n    })\n  }\n\n  // Move\n  if (APP.tool === 'move') {\n    if (gestureEvent === 'start') {\n      // Frame to Selection\n      VIEW.canvasSelection.ctx.putImageData(APP.layers[APP.layerActive].frames[APP.frameActive], 0, 0)\n      VIEW.canvasSelection.imgData = VIEW.canvasSelection.ctx.getImageData(0, 0, APP.width, APP.height)\n\n      // Selection to Preview\n      VIEW.canvasPreview.ctx.putImageData(VIEW.canvasSelection.imgData, 0, 0)\n      VIEW.canvasPreview.imgData = VIEW.canvasPreview.ctx.getImageData(0, 0, APP.width, APP.height)\n\n      // Clear main canvas\n      APP.layers[APP.layerActive].frames[APP.frameActive] = new ImageData(APP.width, APP.height)\n    }\n\n    if (gestureEvent === 'resume') {\n      // Selection to Preview\n      VIEW.canvasPreview.ctx.putImageData(VIEW.canvasSelection.imgData, prevX - startX, prevY - startY)\n      VIEW.canvasPreview.imgData = VIEW.canvasPreview.ctx.getImageData(0, 0, APP.width, APP.height)\n    }\n\n    if (gestureEvent === 'end') {\n      // Selection to Preview\n      VIEW.canvasPreview.ctx.putImageData(VIEW.canvasSelection.imgData, prevX - startX, prevY - startY)\n      VIEW.canvasPreview.imgData = VIEW.canvasPreview.ctx.getImageData(0, 0, APP.width, APP.height)\n\n      // Preview to Main\n      APP.layers[APP.layerActive].frames[APP.frameActive] = VIEW.canvasPreview.ctx.getImageData(0, 0, APP.width, APP.height)\n\n      VIEW.canvasPreview.ctx.clearRect(0, 0, APP.width, APP.height)\n      VIEW.canvasPreview.imgData = VIEW.canvasPreview.ctx.getImageData(0, 0, APP.width, APP.height)\n    }\n  }\n\n  // Setup Redo\n  if (gestureEvent === 'end' && APP.tool !== 'eye-dropper') {\n    const copy = new ImageData(APP.width, APP.height)\n    copy.data.set(APP.layers[APP.layerActive].frames[APP.frameActive].data)\n    const layerActive = APP.layerActive\n    const frameActive = APP.frameActive\n\n    VIEW.currUndoRef.redo = () => {\n      APP.frameActive = frameActive\n      APP.layerActive = layerActive\n      APP.layers[layerActive].frames[frameActive].data.set(copy.data)\n    }\n  }\n\n  VIEW.render()\n}\n\nexport const Canvas = () => {\n  return <div id='canvas-outer-scroll' class={`overflow fl-1 cursor-${APP.tool}`}>\n    <div id='canvas-inner-scroll' data-request='paintCanvas' data-hover='paintCanvas' class='fl fl-center fl-1' style='width: 1920px; height: 1920px;'>\n      <canvas                      \n        id='canvas-view'\n        width={APP.width}\n        height={APP.height}\n        style='width: 1920px; height: 1920px; transform: scale(.25); pointer-events: none;' />\n    </div>  \n  </div>\n}","import { h } from 'preact'\nimport { VIEW } from '../state'\nimport { undo, redo } from '../undo-redo'\n\nexport const Header = () => {\n  return <div class='h-40 bg-light bord-dark-b fl'>\n    <div class=\"fl w-full\">\n      <div class=\"fl-1 fl\">\n        <div class=\"fl bord-dark-r rel w-40\"\n          onMouseLeave={() => {\n            VIEW.file.open = false\n            VIEW.render()\n          }}>\n          <button\n            onClick={() => {\n              VIEW.file.open = !VIEW.file.open\n              VIEW.render()\n            }}\n            class=\"fl fl-center m-0 p-0 w-40\">\n            <img src=\"img/bars.svg\" />\n          </button>\n          <div\n            class=\"bg-light fl-column bord-dark abs z-5\"\n            style={`visibility: ${VIEW.file.open ? 'visible' : 'hidden'}; top: 10px; left: 10px;`}>\n              <button\n                onClick={() => {\n                  VIEW.newCanvas.open = true\n                  VIEW.file.open = false\n                  VIEW.render()\n                }}\n                class=\"m-0 p-h-15 h-40 fl fl-center-y\">\n                <img src={`img/new.svg`} />\n                <small class=\"bold p-h-10\" style='text-transform: capitalize;'>New</small>\n              </button>\n              <button\n                onClick={() => {\n                  VIEW.downloadCanvas.open = true\n                  VIEW.file.open = false\n                  VIEW.render()\n                }}\n                class=\"m-0 p-h-15 h-40 fl fl-center-y\">\n                <img src={`img/download.svg`} />\n                <small class=\"bold p-h-10\" style='text-transform: capitalize;'>download</small>\n              </button>\n          </div>\n        </div>\n        <div class='fl-1 fl fl-justify-center'>\n          <button\n            onClick={() => { undo() }}\n            class=\"fl fl-center m-0 p-0 w-40 bord-dark-l bord-dark-r\">\n            <img src=\"img/undo.svg\" />\n          </button>\n          <button\n            onClick={() => { redo() }}\n            class=\"fl fl-center m-0 p-0 w-40 bord-dark-r\">\n            <img src=\"img/redo.svg\" />\n          </button>\n        </div>\n      </div>\n      <div class=\"fl\" style=\"max-width: 241px; min-width: 241px;\">\n        \n      </div>\n    </div>\n  </div>\n\n}","import { h, render, Component } from 'preact'\nimport { APP, VIEW, ENV, initCanvases, newData } from './state'\nimport { setupKeyListeners } from './keyboard'\n\n// Components\nimport { Color } from './components/color'\nimport { Timeline } from './components/timeline'\nimport { Canvas, paintCanvas } from './components/canvas'\nimport { Header } from './components/header'\nimport { Toolbar } from './components/toolbar'\n\nconst downloadCanvas = (e) => {\n  const c = document.createElement('canvas')\n  const ctx = c.getContext('2d')\n  const height = APP.height * VIEW.downloadCanvas.size\n  const width = APP.width * VIEW.downloadCanvas.size\n\n  if (VIEW.downloadCanvas.type === 'frame') {\n    c.width = width\n    c.height = height\n\n    ctx.webkitImageSmoothingEnabled = false\n    ctx.mozImageSmoothingEnabled = false\n    ctx.imageSmoothingEnabled = false\n\n    APP.layers.forEach(layer => {\n      VIEW.canvasTemp.ctx.putImageData(layer.frames[APP.frameActive], 0, 0)\n      ctx.drawImage(VIEW.canvasView.dom, 0, 0, c.width, c.height)\n    })\n  }\n\n  if (VIEW.downloadCanvas.type === 'spritesheet') {\n    const totalWidth = APP.width * VIEW.downloadCanvas.size * APP.frameCount\n    c.width = totalWidth\n    c.height = height\n\n    ctx.webkitImageSmoothingEnabled = false\n    ctx.mozImageSmoothingEnabled = false\n    ctx.imageSmoothingEnabled = false\n\n    console.log(APP.frameCount)\n    for (let frameI = 0; frameI < APP.frameCount; frameI++) {\n      APP.layers.forEach(layer => {\n        VIEW.canvasTemp.ctx.putImageData(layer.frames[frameI], 0, 0)\n        ctx.drawImage(VIEW.canvasTemp.dom, frameI * width, 0, width, height)\n      })\n    }\n  }\n\n  const image = c.toDataURL('image/png').replace('image/png', 'image/octet-stream')\n  e.target.setAttribute('href', image)\n}\n\nclass View extends Component{\n  componentDidMount () {\n    VIEW.render = () => {\n      this.setState({}, () => {\n        VIEW.canvasTemp.ctx.clearRect(0, 0, APP.width, APP.height)\n        VIEW.canvasFinal.ctx.clearRect(0, 0, APP.width, APP.height)\n        VIEW.canvasView.ctx.clearRect(0, 0, APP.width, APP.height)\n\n        APP.layers.forEach((layer, i) => {\n          VIEW.canvasView.ctx.globalAlpha = 1\n\n          if (layer.hidden) return\n\n          // Onion skinning\n          if (APP.layerActive === i && VIEW.onionSkinning && !VIEW.isPlaying) {\n            const framesAhead = 3\n            const framesBehind = 3\n            const framesTotal = framesBehind + framesAhead\n\n            VIEW.canvasView.ctx.globalAlpha = .5\n\n            for (let a = framesAhead - framesTotal; a < framesAhead; a++) {\n              if (!layer.frames[APP.frameActive - a]) continue\n\n              const target = layer.frames[APP.frameActive - a] \n              VIEW.canvasTemp.ctx.putImageData(target, 0, 0)\n              VIEW.canvasView.ctx.drawImage(VIEW.canvasTemp.dom, 0, 0)\n            }\n          }\n\n          // Regular frame render\n          VIEW.canvasView.ctx.globalAlpha = 1\n\n          const target = layer.frames[APP.frameActive]\n\n          for (let b = 0; b < 2; b++) { // For whatever reason safari makes me do this twice\n            // Target Canvas\n            VIEW.canvasTemp.ctx.putImageData(target, 0, 0)\n            VIEW.canvasView.ctx.drawImage(VIEW.canvasTemp.dom, 0, 0)\n            \n            // Preview Canvas\n            if (APP.layerActive === i) {\n              VIEW.canvasTemp.ctx.putImageData(VIEW.canvasPreview.imgData, 0, 0)\n              VIEW.canvasView.ctx.drawImage(VIEW.canvasTemp.dom, 0, 0)\n            }\n          }\n        })\n      })\n    }\n\n    initCanvases()\n\n    this.funcs = { paintCanvas }\n\n    // View control customization\n    this.canvasOuterScroll = document.querySelector('#canvas-outer-scroll')\n    this.canvasInnerScroll = document.querySelector('#canvas-inner-scroll')\n\n    this.timelineScroll = {\n      isSyncingLeftScroll: false,\n      isSyncingRightScroll: false,\n      leftDiv: document.querySelector('#layers'),\n      rightDiv: document.querySelector('#frames')\n    }\n\n    this.timelineScrollController()\n    this.centerCanvas()\n\n    // Adding google analytics\n    window.dataLayer = window.dataLayer || [];\n    function gtag(){dataLayer.push(arguments);}\n    gtag('js', new Date());\n\n    gtag('config', 'UA-144729452-1');\n  }\n\n  centerCanvas () {\n    const outerW = this.canvasOuterScroll.offsetWidth\n    const innerW = this.canvasInnerScroll.offsetWidth\n    const outerH = this.canvasOuterScroll.offsetHeight\n    const innerH = this.canvasInnerScroll.offsetHeight\n    \n    this.canvasOuterScroll.scrollLeft = Math.floor((innerW - outerW) / 2) + 8\n    this.canvasOuterScroll.scrollTop = Math.floor((innerH - outerH) / 2) + 8\n  }\n\n  timelineScrollController () {\n    this.timelineScroll.leftDiv.addEventListener('scroll', (e) => {\n      if (!this.timelineScroll.isSyncingLeftScroll) {\n        this.timelineScroll.isSyncingRightScroll = true\n        this.timelineScroll.rightDiv.scrollTop = e.target.scrollTop\n      }\n      this.timelineScroll.isSyncingLeftScroll = false\n    })\n    \n    this.timelineScroll.rightDiv.addEventListener('scroll', (e) => {\n      if (!this.timelineScroll.isSyncingRightScroll) {\n        this.timelineScroll.isSyncingLeftScroll = true\n        this.timelineScroll.leftDiv.scrollTop = e.target.scrollTop\n      }\n      this.timelineScroll.isSyncingRightScroll = false\n    })\n  }\n\n  onGestureDown (e) {\n    if (!VIEW.isPlaying) \n\n    VIEW.window.request = e.target.dataset.request || ''\n    VIEW.window.mouseDown = true\n    VIEW.window.startX = (e.pageX === undefined) ? e.touches[0].pageX : e.pageX\n    VIEW.window.startY = (e.pageY === undefined) ? e.touches[0].pageY : e.pageY\n    VIEW.window.prevX = (e.pageX === undefined) ? e.touches[0].pageX : e.pageX\n    VIEW.window.prevY = (e.pageY === undefined) ? e.touches[0].pageY : e.pageY\n    VIEW.window.currX = (e.pageX === undefined) ? e.touches[0].pageX : e.pageX\n    VIEW.window.currY = (e.pageY === undefined) ? e.touches[0].pageY : e.pageY\n\n    if (VIEW.window.request) this.funcs[VIEW.window.request]('start')\n  }\n  \n  onGestureDrag (e) {\n    if (!VIEW.isPlaying) \n\n    VIEW.window.prevX = VIEW.window.currX\n    VIEW.window.prevY = VIEW.window.currY\n    VIEW.window.currX = (e.pageX === undefined) ? e.touches[0].pageX : e.pageX\n    VIEW.window.currY = (e.pageY === undefined) ? e.touches[0].pageY : e.pageY\n    \n    if (VIEW.window.request) this.funcs[VIEW.window.request]('resume')\n  \n    if (e.target.tagName !== 'INPUT') { // prevent block on input range elements\n      e.preventDefault() // block pull to refresh on mobile browsers\n    }\n  }\n\n  onGestureEnd (e) {\n    if (!VIEW.isPlaying)\n\n    if (VIEW.window.request) this.funcs[VIEW.window.request]('end')\n\n    VIEW.window.request = ''\n    VIEW.window.mouseDown = false\n    VIEW.window.startX = 0\n    VIEW.window.startY = 0\n    VIEW.window.prevX = 0\n    VIEW.window.prevY = 0\n    VIEW.window.currX = 0\n    VIEW.window.currY = 0\n  }\n\n  onGestureHover (e) {\n    if (!VIEW.isPlaying)\n\n    VIEW.window.prevX = VIEW.window.currX\n    VIEW.window.prevY = VIEW.window.currY\n    VIEW.window.currX = (e.pageX === undefined) ? e.touches[0].pageX : e.pageX\n    VIEW.window.currY = (e.pageY === undefined) ? e.touches[0].pageY : e.pageY\n\n    if (e.target.dataset.hover) this.funcs[e.target.dataset.hover]('hover')\n  }\n  \n  dragOrHover (e) {\n    if (VIEW.window.mouseDown) {\n      this.onGestureDrag(e)\n    } else {\n      this.onGestureHover(e)\n    }\n  }\n\n  render () {\n    return (\n      <div\n        class='h-full relative'\n        onMouseDown={(e) => { if (e.which === 1) this.onGestureDown(e); }}\n        onMouseMove={(e) => { this.dragOrHover(e) }}\n        onMouseUp={(e) => { this.onGestureEnd(e) }}>\n        <Header />\n        <div class='fl' style='height: calc(100% - 40px); '>\n          <Toolbar />\n          <div class='fl-column' style='width: calc(100% - 281px);'>\n            <Canvas />\n            <Timeline />\n          </div>\n          <div class='bg-light bord-dark-l fl-column' style=\"max-width: 241px; min-width: 241px;\">\n            <div class='bord-dark-b fl-column overflow'>\n              <div class='h-30 bg-mid bord-dark-b fl fl-center-y p-h-10'>\n                <small><b>Tool</b></small>\n              </div>\n              <div class='fl-1 overflow'>\n                <div class=\"fl fl-center p-10\">\n                  <small style=\"width: 150px; font-size: 11px;\">Brush Size</small>\n                  <div class='fl-1 select'>\n                    <select\n                      onInput={(e) => {\n                        VIEW.brushSize = parseInt(e.target.value)\n                      }}\n                      value={VIEW.brushSize}\n                      class=\"w-full\">\n                        {\n                          [1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((size, i) => {\n                            return <option value={i}>{size}</option>\n                          })\n                        }\n                    </select>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <Color />\n            <div class='fl-1 bord-dark-b fl-column overflow'>\n              <div class='h-30 bg-mid bord-dark-b fl fl-center-y p-h-10'>\n                <small><b>History</b></small>\n              </div>\n              <div class='fl-1 overflow'>\n                {\n                  VIEW.undo.map((entry, i) => {\n                    return <button class={`p-h-10 h-30 w-full txt-left fl fl-center-y ${VIEW.undoPos === i ? 'bg-xlight' : ''}`} >\n                      <img width='10' height='10' style='margin-right: 10px;' src={`img/${entry.icon}`} />\n                      <small style='text-transform: capitalize; font-size: 11px;'><b>{entry.action}</b></small>\n                    </button>\n                  })\n                }\n              </div>\n            </div>\n            <div style='min-height: 249px; max-height: 249px;'>\n              <div class='h-30 bg-mid bord-dark-b fl fl-center-y p-h-10'>\n                <small><b>Timeline</b></small>\n              </div>\n              <div class='overflow fl-1'>\n                \n              </div>\n            </div>\n          </div>\n        </div>\n        {VIEW.newCanvas.open && <div class=\"abs top left w-full h-full fl fl-justify-center\" style=\"z-index: 10;\">\n          <div class=\"w-full overflow-hidden\" style=\"max-width: 300px; margin-top: 175px;\">\n            <div class=\"fl fl-center bg-mid bord-dark p-v-5\" style='border-top-right-radius: 5px; border-top-left-radius: 5px;'><small><b>New Canvas</b></small></div>\n            <div class=\"p-10 bg-light bord-dark-l bord-dark-r bord-dark-b\" style='border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;'>\n              <div class=\"m-5 p-v-5\">\n                <div class=\"fl fl-center\">\n                  <small class=\"bold\" style=\"width: 150px;\">Dimensions</small>\n                  <select\n                    onInput={(e) => {\n                      const val = e.target.value.split('x')\n                      VIEW.newCanvas.w = parseInt(val[0])\n                      VIEW.newCanvas.h = parseInt(val[1])\n                    }}\n                    class=\"w-full\">\n                    <option value=\"32x32\">32x32</option>\n                    <option value=\"50x50\">50x50</option>\n                    <option value=\"64x64\">64x64</option>\n                    <option value=\"100x100\">100x100</option>\n                    <option value=\"128x128\">128x128</option>\n                  </select>\n                </div>\n              </div>\n              <div class=\"fl\" style=\"padding-top: 5px;\">\n                <button\n                  onClick={() => {\n                    VIEW.newCanvas.open = false\n                    VIEW.render()\n                  }}\n                  class=\"b-r-2 bold p-5 w-full bg-red m-5\">Cancel</button>\n                <button\n                  onClick={() => {\n                    newData(VIEW.newCanvas.w, VIEW.newCanvas.h)\n                    VIEW.newCanvas.open = false\n                    VIEW.render()\n                  }}\n                  class=\"b-r-2 bold p-5 w-full bg-green m-5\">Confirm</button>\n              </div>\n            </div>\n          </div>\n        </div>}\n        {VIEW.downloadCanvas.open && <div class=\"abs top left w-full h-full fl fl-center-x\" style=\"z-index: 10;\">\n          <div class=\"w-full\" style=\"max-width: 300px; overflow: hidden; margin-top: 175px;\">\n              <div class=\"fl fl-center bg-mid bord-dark p-v-5\" style='border-top-right-radius: 5px; border-top-left-radius: 5px;'><small class=\"bold\">Download</small></div>\n              <div class=\"p-10 bg-light bord-dark-l bord-dark-r bord-dark-b\" style='border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;'>\n                <div class=\"m-5 p-v-5\">\n                  <div class=\"fl fl-center\">\n                    <small class=\"bold\" style=\"width: 100px;\">Type</small>\n                    <div class='fl-1 select'>\n                      <select\n                        onInput={(e) => {\n                          VIEW.downloadCanvas.type = e.target.value\n                        }}\n                        value={VIEW.downloadCanvas.type}\n                        id=\"config-download-size\" class=\"w-full\">\n                          <option value=\"frame\">Frame</option>\n                          <option value=\"spritesheet\">Spritesheet</option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"m-5 p-v-5\">\n                    <div class=\"fl fl-center\">\n                      <small class=\"bold\" style=\"width: 100px;\">Size</small>\n                      <div class='fl-1 select'>\n                        <select\n                          onInput={(e) => {\n                            VIEW.downloadCanvas.size = parseInt(e.target.value)\n                          }}\n                          value={VIEW.downloadCanvas.size}\n                          id=\"config-download-size\" class=\"w-full\">\n                            <option value=\"2\">2x</option>\n                            <option value=\"4\">4x</option>\n                            <option value=\"8\">8x</option>\n                            <option value=\"16\">16x</option>\n                            <option value=\"32\">32x</option>\n                            <option value=\"64\">64x</option>\n                        </select>\n                      </div>\n                    </div>\n                </div>\n                <div class=\"fl\" style=\"padding-top: 5px;\">\n                  <button\n                    onClick={() => {\n                      VIEW.downloadCanvas.open = false\n                      VIEW.render()\n                    }}\n                    class=\"b-r-2 bold p-5 w-full bg-red m-5\">Cancel</button>\n                  <a\n                    onClick={(e) => {\n                      downloadCanvas(e)\n                    }}\n                    class=\"w-full m-5 clickable\" download=\"pixel-art.png\" style=\"display: inline-block;\">\n                    <button class=\"b-r-2 bold p-5 w-full bg-green no-ptr\">Download</button>\n                  </a>\n                </div>\n              </div>\n          </div>\n        </div>}\n      </div>\n    )\n  }\n}\n\nconst loadData = ({ onLoaded, onError }) => {\n  //console.time('startRead')\n  localforage.getItem('pixel-art-app').then((stored) => {\n    //console.timeEnd('startRead')\n    for (const key in stored) {\n      APP[key] = stored[key]\n    }\n\n    onLoaded()\n  }).catch(function(err) {\n    console.log(err)\n    onError()\n  });\n}\n\nconst saveData = () => {\n  setTimeout(() => {\n    console.time('startwrite')\n    localforage.setItem('pixel-art-app', APP).then(function(value) {\n      console.timeEnd('startwrite')\n    }).catch(function(err) {\n      console.log(err);\n    });\n  }, 50)\n}\n\nconst onProgramStart = () => {\n  console.log('Program started.')\n\n  newData(64, 64, true)\n  render(<View />, document.body)\n  \n  loadData({\n    onLoaded: () => {\n      initCanvases()\n      VIEW.render()\n    },\n    onError: () => {}\n  })\n\n  setupKeyListeners()\n  \n  window.addEventListener('keyup', saveData)\n  window.addEventListener('mouseup', saveData)\n}\n\nwindow.addEventListener('load', onProgramStart)\nif (ENV === 'PROD') {\n  window.addEventListener('beforeunload', (event) => {\n    event.returnValue = `Are you sure you want to leave?`;\n  });\n}\n\n"],"names":["const","let","h","l","newData","x","y","copy","layerActive","frameActive","frameI","this","target","Component","render"],"mappings":"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"}