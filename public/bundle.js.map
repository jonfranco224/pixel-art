{"version":3,"file":"bundle.js","sources":["../node_modules/preact/dist/preact.module.js","../app/utils.js","../app/data.js","../app/undo-redo.js","../app/color.js","../app/canvas.js","../app/keyboard.js","../app/timeline.js","../app/index.js"],"sourcesContent":["var n,l,u,i,t,r,o,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n)}function h(n,l,u){var i,t=arguments,r={};for(i in l)\"key\"!==i&&\"ref\"!==i&&(r[i]=l[i]);if(arguments.length>3)for(u=[u],i=3;i<arguments.length;i++)u.push(t[i]);if(null!=u&&(r.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(i in n.defaultProps)void 0===r[i]&&(r[i]=n.defaultProps[i]);return p(n,r,l&&l.key,l&&l.ref,null)}function p(l,u,i,t,r){var o={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r};return null==r&&(o.__v=o),n.vnode&&n.vnode(o),o}function y(){return{}}function d(n){return n.children}function m(n,l){this.props=n,this.context=l}function w(n,l){if(null==l)return n.__?w(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?w(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function g(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!i++||r!==n.debounceRendering)&&((r=n.debounceRendering)||t)(_)}function _(){for(var n;i=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,r,o,f;n.__d&&(o=(r=(l=n).__v).__e,(f=l.__P)&&(u=[],(i=a({},r)).__v=i,t=A(f,r,i,l.__n,void 0!==f.ownerSVGElement,null,u,null==o?w(r):o),T(u,r),t!=o&&k(r)))})}function b(n,l,u,i,t,r,o,f,s){var a,h,p,y,d,m,k,g=u&&u.__k||c,_=g.length;if(f==e&&(f=null!=r?r[0]:_?w(u,0):null),a=0,l.__k=x(l.__k,function(u){if(null!=u){if(u.__=l,u.__b=l.__b+1,null===(p=g[a])||p&&u.key==p.key&&u.type===p.type)g[a]=void 0;else for(h=0;h<_;h++){if((p=g[h])&&u.key==p.key&&u.type===p.type){g[h]=void 0;break}p=null}if(y=A(n,u,p=p||e,i,t,r,o,f,s),(h=u.ref)&&p.ref!=h&&(k||(k=[]),p.ref&&k.push(p.ref,null,u),k.push(h,u.__c||y,u)),null!=y){var c;if(null==m&&(m=y),void 0!==u.__d)c=u.__d,u.__d=void 0;else if(r==p||y!=f||null==y.parentNode){n:if(null==f||f.parentNode!==n)n.appendChild(y),c=null;else{for(d=f,h=0;(d=d.nextSibling)&&h<_;h+=2)if(d==y)break n;n.insertBefore(y,f),c=f}\"option\"==l.type&&(n.value=\"\")}f=void 0!==c?c:y.nextSibling,\"function\"==typeof l.type&&(l.__d=f)}else f&&p.__e==f&&f.parentNode!=n&&(f=w(p))}return a++,u}),l.__e=m,null!=r&&\"function\"!=typeof l.type)for(a=r.length;a--;)null!=r[a]&&v(r[a]);for(a=_;a--;)null!=g[a]&&D(g[a],g[a]);if(k)for(a=0;a<k.length;a++)j(k[a],k[++a],k[++a])}function x(n,l,u){if(null==u&&(u=[]),null==n||\"boolean\"==typeof n)l&&u.push(l(null));else if(Array.isArray(n))for(var i=0;i<n.length;i++)x(n[i],l,u);else u.push(l?l(\"string\"==typeof n||\"number\"==typeof n?p(null,n,null,null,n):null!=n.__e||null!=n.__c?p(n.type,n.props,n.key,null,n.__v):n):n);return u}function P(n,l,u,i,t){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||N(n,r,null,u[r],i);for(r in l)t&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||N(n,r,l[r],u[r],i)}function C(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=\"number\"==typeof u&&!1===s.test(l)?u+\"px\":null==u?\"\":u}function N(n,l,u,i,t){var r,o,f,e,c;if(t?\"className\"===l&&(l=\"class\"):\"class\"===l&&(l=\"className\"),\"style\"===l)if(r=n.style,\"string\"==typeof u)r.cssText=u;else{if(\"string\"==typeof i&&(r.cssText=\"\",i=null),i)for(e in i)u&&e in u||C(r,e,\"\");if(u)for(c in u)i&&u[c]===i[c]||C(r,c,u[c])}else\"o\"===l[0]&&\"n\"===l[1]?(o=l!==(l=l.replace(/Capture$/,\"\")),f=l.toLowerCase(),l=(f in n?f:l).slice(2),u?(i||n.addEventListener(l,z,o),(n.l||(n.l={}))[l]=u):n.removeEventListener(l,z,o)):\"list\"!==l&&\"tagName\"!==l&&\"form\"!==l&&\"type\"!==l&&\"size\"!==l&&!t&&l in n?n[l]=null==u?\"\":u:\"function\"!=typeof u&&\"dangerouslySetInnerHTML\"!==l&&(l!==(l=l.replace(/^xlink:?/,\"\"))?null==u||!1===u?n.removeAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase()):n.setAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase(),u):null==u||!1===u&&!/^ar/.test(l)?n.removeAttribute(l):n.setAttribute(l,u))}function z(l){this.l[l.type](n.event?n.event(l):l)}function A(l,u,i,t,r,o,f,e,c){var s,v,h,p,y,w,k,g,_,x,P=u.type;if(void 0!==u.constructor)return null;(s=n.__b)&&s(u);try{n:if(\"function\"==typeof P){if(g=u.props,_=(s=P.contextType)&&t[s.__c],x=s?_?_.props.value:s.__:t,i.__c?k=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new m(g,x),v.constructor=P,v.render=E),_&&_.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=a({},v.__s)),a(v.__s,P.getDerivedStateFromProps(g,v.__s))),p=v.props,y=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==p&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v&&!v.__){for(v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,v.__h.length&&f.push(v),s=0;s<u.__k.length;s++)u.__k[s]&&(u.__k[s].__=u);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(p,y,w)})}v.context=x,v.props=g,v.state=v.__s,(s=n.__r)&&s(u),v.__d=!1,v.__v=u,v.__P=l,s=v.render(v.props,v.state,v.context),u.__k=null!=s&&s.type==d&&null==s.key?s.props.children:Array.isArray(s)?s:[s],null!=v.getChildContext&&(t=a(a({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(w=v.getSnapshotBeforeUpdate(p,y)),b(l,u,i,t,r,o,f,e,c),v.base=u.__e,v.__h.length&&f.push(v),k&&(v.__E=v.__=null),v.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=$(i.__e,u,i,t,r,o,f,c);(s=n.diffed)&&s(u)}catch(l){u.__v=null,n.__e(l,u,i)}return u.__e}function T(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function $(n,l,u,i,t,r,o,f){var s,a,v,h,p,y=u.props,d=l.props;if(t=\"svg\"===l.type||t,null!=r)for(s=0;s<r.length;s++)if(null!=(a=r[s])&&((null===l.type?3===a.nodeType:a.localName===l.type)||n==a)){n=a,r[s]=null;break}if(null==n){if(null===l.type)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",l.type):document.createElement(l.type,d.is&&{is:d.is}),r=null,f=!1}if(null===l.type)y!==d&&n.data!=d&&(n.data=d);else{if(null!=r&&(r=c.slice.call(n.childNodes)),v=(y=u.props||e).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!f){if(y===e)for(y={},p=0;p<n.attributes.length;p++)y[n.attributes[p].name]=n.attributes[p].value;(h||v)&&(h&&v&&h.__html==v.__html||(n.innerHTML=h&&h.__html||\"\"))}P(n,d,y,t,f),h?l.__k=[]:(l.__k=l.props.children,b(n,l,u,i,\"foreignObject\"!==l.type&&t,r,o,e,f)),f||(\"value\"in d&&void 0!==(s=d.value)&&s!==n.value&&N(n,\"value\",s,y.value,!1),\"checked\"in d&&void 0!==(s=d.checked)&&s!==n.checked&&N(n,\"checked\",s,y.checked,!1))}return n}function j(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function D(l,u,i){var t,r,o;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||j(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(r=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(o=0;o<t.length;o++)t[o]&&D(t[o],u,i);null!=r&&v(r)}function E(n,l,u){return this.constructor(n,u)}function H(l,u,i){var t,r,f;n.__&&n.__(l,u),r=(t=i===o)?null:i&&i.__k||u.__k,l=h(d,null,[l]),f=[],A(u,(t?u:i||u).__k=l,r||e,e,void 0!==u.ownerSVGElement,i&&!t?[i]:r?null:c.slice.call(u.childNodes),f,i||e,t),T(f,l)}function I(n,l){H(n,l,o)}function L(n,l){var u,i;for(i in l=a(a({},n.props),l),arguments.length>2&&(l.children=c.slice.call(arguments,2)),u={},l)\"key\"!==i&&\"ref\"!==i&&(u[i]=l[i]);return p(n.type,u,l.key||n.key,l.ref||n.ref,null)}function M(n){var l={},u={__c:\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var i,t=this;return this.getChildContext||(i=[],this.getChildContext=function(){return l[u.__c]=t,l},this.shouldComponentUpdate=function(n){t.props.value!==n.value&&i.some(function(l){l.context=n.value,g(l)})},this.sub=function(n){i.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){i.splice(i.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Consumer.contextType=u,u.Provider.__=u,u}n={__e:function(n,l){for(var u,i;l=l.__;)if((u=l.__c)&&!u.__)try{if(u.constructor&&null!=u.constructor.getDerivedStateFromError&&(i=!0,u.setState(u.constructor.getDerivedStateFromError(n))),null!=u.componentDidCatch&&(i=!0,u.componentDidCatch(n)),i)return g(u.__E=u)}catch(l){n=l}throw n}},l=function(n){return null!=n&&void 0===n.constructor},m.prototype.setState=function(n,l){var u;u=this.__s!==this.state?this.__s:this.__s=a({},this.state),\"function\"==typeof n&&(n=n(u,this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),g(this))},m.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),g(this))},m.prototype.render=d,u=[],i=0,t=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,o=e,f=0;export{H as render,I as hydrate,h as createElement,h,d as Fragment,y as createRef,l as isValidElement,m as Component,L as cloneElement,M as createContext,x as toChildArray,D as _unmount,n as options};\n//# sourceMappingURL=preact.module.js.map\n","\r\nexport const RGBtoHSL = (rgb) => {\r\n  // Make r, g, and b fractions of 1\r\n  let r = rgb[0] / 255\r\n  let g = rgb[1] / 255\r\n  let b = rgb[2] / 255\r\n\r\n  // Find greatest and smallest channel values\r\n  let cmin = Math.min(r, g, b)\r\n  let cmax = Math.max(r, g, b)\r\n  let delta = cmax - cmin\r\n  let h = 0\r\n  let s = 0\r\n  let l = 0\r\n\r\n  if (delta === 0) {\r\n    h = 0\r\n  } else if (cmax === r) {\r\n    h = ((g - b) / delta) % 6\r\n  } else if (cmax === g) {\r\n    h = (b - r) / delta + 2\r\n  } else {\r\n    h = (r - g) / delta + 4\r\n  }\r\n\r\n  h = Math.round(h * 60)\r\n\r\n  // Make negative hues positive behind 360Â°\r\n  if (h < 0) h += 360\r\n\r\n  l = (cmax + cmin) / 2\r\n\r\n  // Calculate saturation\r\n  s = delta === 0 ? 0 : delta / (1 - Math.abs(2 * l - 1))\r\n\r\n  // Multiply l and s by 100\r\n  s = +(s * 100).toFixed(1)\r\n  l = +(l * 100).toFixed(1)\r\n\r\n  return [ Math.floor(h), Math.floor(s), Math.floor(l), 255 ]\r\n}\r\n\r\nexport const HSLtoRGB = (hsl) => {\r\n  const h = hsl[0]\r\n  const s = hsl[1] / 100\r\n  const l = hsl[2] / 100\r\n\r\n  let c = (1 - Math.abs(2 * l - 1)) * s\r\n  let x = c * (1 - Math.abs((hsl[0] / 60) % 2 - 1))\r\n  let m = l - c / 2\r\n  let r = 0\r\n  let g = 0\r\n  let b = 0\r\n\r\n  if (h >= 0 && h < 60) {\r\n    r = c; g = x; b = 0\r\n  } else if (h >= 60 && h < 120) {\r\n    r = x; g = c; b = 0\r\n  } else if (h >= 120 && h < 180) {\r\n    r = 0; g = c; b = x\r\n  } else if (h >= 180 && h < 240) {\r\n    r = 0; g = x; b = c\r\n  } else if (h >= 240 && h < 300) {\r\n    r = x; g = 0; b = c\r\n  } else if (h >= 300 && h < 360) {\r\n    r = c; g = 0; b = x\r\n  }\r\n\r\n  r = Math.round((r + m) * 255)\r\n  g = Math.round((g + m) * 255)\r\n  b = Math.round((b + m) * 255)\r\n\r\n  return [ r, g, b, 255 ]\r\n}","import { RGBtoHSL } from './utils'\r\n\r\nexport const APP = {}\r\nexport const VIEW = { render: undefined }\r\nexport const canvases = ['canvasSelection', 'canvasPreview', 'canvasTemp', 'canvasFinal', 'canvasView']\r\n\r\nconst initAppDefault = (w, h) => {\r\n  APP.width = w\r\n  APP.height = h\r\n  APP.tool = 'pencil'\r\n\r\n  APP.frameActive = 0\r\n  APP.layerActive = 0\r\n  APP.frameCount = 1 \r\n  APP.layerCount = 1  \r\n  APP.layers = [\r\n    {\r\n      name: 'Layer 1',\r\n      hidden: false,\r\n      frames: [new ImageData(w, h)]\r\n    }\r\n  ]\r\n  \r\n  APP.color = {}\r\n  APP.color.rgb = [100, 188, 156, 255]\r\n  APP.color.hsl = RGBtoHSL(APP.color.rgb)\r\n\r\n  APP.palette = [\r\n    [26, 188, 156, 255],\r\n    [46, 204, 113, 255],\r\n    [52, 152, 219, 255],\r\n    [155, 89, 182, 255],\r\n    [52, 73, 94, 255],\r\n    [22, 160, 133, 255],\r\n    [39, 174, 96, 255],\r\n    [41, 128, 185, 255],\r\n    [142, 68, 173, 255],\r\n    [44, 62, 80, 255],\r\n    [241, 196, 15, 255],\r\n    [230, 126, 34, 255],\r\n    [231, 76, 60, 255],\r\n    [236, 240, 241, 255],\r\n    [149, 165, 166, 255],\r\n    [243, 156, 18, 255],\r\n    [211, 84, 0, 255],\r\n    [192, 57, 43, 255],\r\n    [189, 195, 199, 255],\r\n    [127, 140, 141, 255]\r\n  ]\r\n  \r\n  Object.seal(APP)\r\n}\r\n\r\nexport const initCanvases = () => {\r\n  canvases.forEach(canvas => {\r\n    VIEW[canvas].dom = canvas === 'canvasView' ? document.querySelector('#canvas-view') : document.createElement('canvas')\r\n    VIEW[canvas].dom.width = APP.width\r\n    VIEW[canvas].dom.height = APP.height\r\n    VIEW[canvas].ctx = VIEW[canvas].dom.getContext('2d')\r\n    VIEW[canvas].imgData = VIEW[canvas].ctx.getImageData(0, 0, APP.width, APP.height)\r\n  })\r\n}\r\n\r\nconst initViewDefault = (preventOnMount) => {\r\n  VIEW.file = { open: false }\r\n  VIEW.color = { open: false }\r\n  VIEW.newCanvas = { open: false, w: 32, h: 32 }\r\n  VIEW.downloadCanvas = { open: false, size: 2, type: 'frame' }\r\n\r\n  VIEW.window = {\r\n    request: '',\r\n    mouseDown: false,\r\n    startX: 0,\r\n    startY: 0,\r\n    prevX: 0,\r\n    prevY: 0,\r\n    currX: 0,\r\n    currY: 0\r\n  }\r\n\r\n  VIEW.brushSize = 0\r\n\r\n  VIEW.timerID = undefined\r\n  VIEW.isPlaying = false\r\n  VIEW.onionSkinning = false\r\n\r\n  VIEW.undo = []\r\n  VIEW.undoPos = -1\r\n  VIEW.currUndoRef = {}\r\n\r\n  // need to reset these on new project\r\n  canvases.forEach(canvas => {\r\n    VIEW[canvas] = {\r\n      dom: undefined,\r\n      ctx: undefined,\r\n      imgData: undefined\r\n    }\r\n  })\r\n\r\n  if (preventOnMount !== true) {\r\n    initCanvases()\r\n  }\r\n\r\n  Object.seal(VIEW)\r\n}\r\n\r\nexport const newData = (w, h, preventOnMount) => {\r\n  initAppDefault(w, h)\r\n  initViewDefault(preventOnMount)\r\n}","import { VIEW } from './data'\r\n\r\nexport const addToUndo = (action, type = '') => {\r\n  VIEW.undo.splice(0, VIEW.undoPos + 1, {\r\n    icon: `${action}.svg`,\r\n    action: `${action} ${type}`,\r\n    undo: undo,\r\n    redo: redo\r\n  })\r\n\r\n  if (VIEW.undoPos >= 0) VIEW.undoPos = -1  \r\n  if (VIEW.undo.length > 50) VIEW.undo.pop()\r\n\r\n  VIEW.currUndoRef = VIEW.undo[VIEW.undoPos + 1]\r\n}\r\n\r\nexport const undo = () => {\r\n  if (VIEW.undoPos + 1 === VIEW.undo.length) return\r\n\r\n  VIEW.undoPos += 1\r\n  VIEW.undo[VIEW.undoPos].undo()\r\n\r\n  VIEW.render()\r\n}\r\n\r\nexport const redo = () => {\r\n  if (VIEW.undoPos - 1 === -2) return\r\n\r\n  if (VIEW.undo[VIEW.undoPos].redo) VIEW.undo[VIEW.undoPos].redo()\r\n  VIEW.undoPos -= 1\r\n\r\n  VIEW.render()\r\n}","import { h, render } from 'preact'\r\nimport { RGBtoHSL, HSLtoRGB } from './utils'\r\nimport { APP, VIEW, canvases } from './data'\r\nimport { addToUndo, undo, redo } from './undo-redo'\r\n\r\n// Colors\r\nconst colorSetHSL = (hsl) => {\r\n  APP.color.hsl = hsl\r\n  APP.color.rgb = HSLtoRGB(hsl)\r\n\r\n  VIEW.render()\r\n}\r\n\r\nexport const colorSetRGB = (rgb) => {\r\n  APP.color.rgb = rgb\r\n  APP.color.hsl = RGBtoHSL(rgb)\r\n\r\n  VIEW.render()\r\n}\r\n\r\nconst paletteAdd = () => {\r\n  APP.palette.push(APP.color.rgb)\r\n  \r\n  VIEW.render()\r\n}\r\n\r\nconst paletteDelete = (i) => {\r\n  const index = APP.palette.indexOf(APP.color.rgb)\r\n\r\n  if (index !== -1) {\r\n    APP.palette.splice(index, 1)\r\n    VIEW.render()\r\n  } \r\n}\r\n\r\nexport const Color = () => {\r\n  return (\r\n    <div>\r\n      <div class='h-30 bg-mid bord-dark-b fl fl-center-y p-h-10'>\r\n        <small><b>Color</b></small>\r\n      </div>\r\n      <div class='fl fl-justify-between'>\r\n        <div class='fl-1 fl fl-center-y p-h-10 bord-dark-b h-30 bord-dark-b'>\r\n          <div\r\n            class='no-ptr h-30'\r\n            style={`min-height: 18px; width: 18px; border-radius: 100%; background: rgba(${APP.color.rgb[0]}, ${APP.color.rgb[1]}, ${APP.color.rgb[2]}, 255);`} />\r\n        </div>\r\n        <div class='fl bord-dark-b h-30'>\r\n          {APP.palette.filter(c =>\r\n            APP.color.rgb[0] === c[0] &&\r\n            APP.color.rgb[1] === c[1] &&\r\n            APP.color.rgb[2] === c[2] &&\r\n            APP.color.rgb[3] === c[3])\r\n            .length === 0 &&\r\n              <button\r\n                onClick={() => { paletteAdd() }}\r\n                class='w-30 fl fl-center rel bord-dark-l'>\r\n                <img src={`img/insert.svg`} />\r\n              </button>\r\n          }\r\n          {APP.palette.filter(c =>\r\n            APP.color.rgb[0] === c[0] &&\r\n            APP.color.rgb[1] === c[1] &&\r\n            APP.color.rgb[2] === c[2] &&\r\n            APP.color.rgb[3] === c[3])\r\n            .length !== 0 &&\r\n            <button\r\n              onClick={() => { paletteDelete() }}\r\n              class='w-30 fl fl-center bord-dark-l'>\r\n              <img src={`img/delete.svg`} />\r\n            </button>\r\n          }\r\n        </div>\r\n          \r\n      </div>\r\n      <div\r\n        onInput={(e) => {\r\n          const hsl = [APP.color.hsl[0], APP.color.hsl[1], APP.color.hsl[2], APP.color.hsl[3]]\r\n          hsl[parseInt(e.target.dataset.index)] = parseInt(e.target.value)\r\n          \r\n          colorSetHSL(hsl)\r\n        }}\r\n        class='bg-light fl-column p-10 b-r-2 overflow-none'>\r\n        <div class='b-r-2 overflow-none'>\r\n          <div class='fl-column'>\r\n            <form class='fl-column' autocomplete='off'>\r\n              <input\r\n                id='hsl'\r\n                data-index='0'\r\n                type='range'\r\n                class='w-full m-0'\r\n                style='height: 25px; background: linear-gradient(to right, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);'\r\n                min='0'\r\n                max='359'\r\n                value={APP.color.hsl[0]}/>\r\n            </form>\r\n          </div>\r\n          <div class='fl-column'>\r\n            <form class='fl-column' autocomplete='off'>\r\n              <input\r\n                value={APP.color.hsl[1]}\r\n                data-index='1'\r\n                type='range'\r\n                class='w-full m-0'\r\n                style={`height: 25px; background: linear-gradient(to right, hsl(${APP.color.hsl[0]}, 0%, 50%) 0%,hsl(${APP.color.hsl[0]}, 100%, 50%) 100%);`}/>\r\n            </form>\r\n          </div>\r\n          <div class='fl-column'>\r\n            <form class='fl-column' autocomplete='off'>\r\n              <input\r\n                value={APP.color.hsl[2]}\r\n                data-index='2'\r\n                type='range'\r\n                class='w-full m-0'\r\n                style={`height: 25px; background: linear-gradient(to right, hsl(${APP.color.hsl[0]}, 100%, 0%) 0%, hsl(${APP.color.hsl[0]}, 100%, 50%) 50%, hsl(${APP.color.hsl[0]}, 100%, 100%) 100%)`}/>\r\n            </form>\r\n        </div>\r\n        </div>\r\n      </div>\r\n      <div class='p-h-10 bord-dark-b' style='padding-bottom: 10px;'>\r\n        <div class='fl fl-wrap b-r-2 overflow-none' style='align-content: baseline;'>\r\n          {\r\n            APP.palette.map(c =>\r\n              <button\r\n                onClick={() => {\r\n                  colorSetRGB(c)\r\n                }}\r\n                class='m-0'\r\n                style={`\r\n                  width: 44px;\r\n                  min-height: 25px;\r\n                  background: rgba(${c[0]}, ${c[1]}, ${c[2]}, ${c[3]});\r\n                  border: ${\r\n                    APP.color.rgb[0] === c[0] &&\r\n                    APP.color.rgb[1] === c[1] &&\r\n                    APP.color.rgb[2] === c[2] &&\r\n                    APP.color.rgb[3] === c[3] ? '2px solid rgba(61,61,61, 1)' : '2px solid rgba(61,61,61, 0)'};\r\n                  box-shadow: inset 0px 0px 0px 1px rgba(255, 255, 255, ${\r\n                    APP.color.rgb[0] === c[0] &&\r\n                    APP.color.rgb[1] === c[1] &&\r\n                    APP.color.rgb[2] === c[2] &&\r\n                    APP.color.rgb[3] === c[3] ? '255' : '0'});\r\n                `} />\r\n            )\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { h, render } from 'preact'\r\nimport { APP, VIEW, canvases } from './data'\r\nimport { addToUndo } from './undo-redo'\r\nimport { colorSetRGB } from './color'\r\n\r\nexport const setTool = (tool) => {\r\n  APP.tool = tool\r\n  VIEW.render()\r\n}\r\n\r\nconst getPoint = (imgDataArr, x, y, w, h) => {\r\n  if (!imgDataArr) throw Error(`setPoint: ${imgDataArr} undefined`)\r\n  if (!imgDataArr.length) throw Error(`setPoint: ${imgDataArr} not a valid array`)\r\n\r\n  if (x >= 0 && x < w && y >= 0 && y < h) { // check bounds\r\n    const i = (x + w * y) * 4\r\n    return [\r\n      imgDataArr[i + 0],\r\n      imgDataArr[i + 1],\r\n      imgDataArr[i + 2],\r\n      imgDataArr[i + 3]\r\n    ]\r\n  }\r\n\r\n  return [0, 0, 0, 0]\r\n}\r\n\r\nconst setPoint = (imgDataArr, x, y, w, h, color) => {\r\n  if (!imgDataArr) throw Error(`setPoint: ${imgDataArr} undefined`)\r\n  if (!imgDataArr.length) throw Error(`setPoint: ${imgDataArr} not a valid array`)\r\n  \r\n  if (x >= 0 && x < w && y >= 0 && y < h) { // check bounds\r\n    const i = (x + w * y) * 4\r\n    imgDataArr[i + 0] = color[0]\r\n    imgDataArr[i + 1] = color[1]\r\n    imgDataArr[i + 2] = color[2]\r\n    imgDataArr[i + 3] = color[3]\r\n  }\r\n}\r\n\r\nconst areRGBAsEqual = (c1, a, c2, b) => {\r\n  return (\r\n    c1[a + 0] === c2[b + 0] &&\r\n    c1[a + 1] === c2[b + 1] &&\r\n    c1[a + 2] === c2[b + 2] &&\r\n    c1[a + 3] === c2[b + 3]\r\n  )\r\n}\r\n\r\nconst getColorAtPixel = (data, x, y, w) => {\r\n  const linearCord = (y * w + x) * 4\r\n\r\n  return [\r\n    data[linearCord + 0],\r\n    data[linearCord + 1],\r\n    data[linearCord + 2],\r\n    data[linearCord + 3]\r\n  ]\r\n}\r\n\r\nconst fill = (canvasImgData, startX, startY, w, h, color) => { // http://www.williammalone.com/articles/html5-canvas-javascript-paint-bucket-tool/\r\n  var linear_cords = (startY * w + startX) * 4;\r\n\r\n  var pixel_stack = [{ x: startX, y: startY }];\r\n  var original_color = getColorAtPixel(canvasImgData, startX, startY, w);\r\n\r\n  if (areRGBAsEqual(color, 0, original_color, 0)) {\r\n    return\r\n  }\r\n\r\n  while (pixel_stack.length > 0) {\r\n    var new_pixel = pixel_stack.shift();\r\n    var x = new_pixel.x;\r\n    var y = new_pixel.y;\r\n\r\n    linear_cords = (y * w + x) * 4;\r\n\r\n    while (\r\n      y-- >= 0 &&\r\n      canvasImgData[linear_cords + 0] === original_color[0] &&\r\n      canvasImgData[linear_cords + 1] === original_color[1] &&\r\n      canvasImgData[linear_cords + 2] === original_color[2] &&\r\n      canvasImgData[linear_cords + 3] === original_color[3]) {\r\n        linear_cords -= w * 4;\r\n    }\r\n\r\n    linear_cords += w * 4;\r\n    y++;\r\n\r\n    var reached_left = false;\r\n    var reached_right = false;\r\n\r\n    while (\r\n      y++ < h &&\r\n      canvasImgData[linear_cords + 0] === original_color[0] &&\r\n      canvasImgData[linear_cords + 1] === original_color[1] &&\r\n      canvasImgData[linear_cords + 2] === original_color[2] &&\r\n      canvasImgData[linear_cords + 3] === original_color[3]\r\n    ) {\r\n      canvasImgData[linear_cords + 0] = color[0];\r\n      canvasImgData[linear_cords + 1] = color[1];\r\n      canvasImgData[linear_cords + 2] = color[2];\r\n      canvasImgData[linear_cords + 3] = color[3];\r\n\r\n      if (x > 0) {\r\n        if (\r\n          canvasImgData[linear_cords - 4 + 0] === original_color[0] &&\r\n          canvasImgData[linear_cords - 4 + 1] === original_color[1] &&\r\n          canvasImgData[linear_cords - 4 + 2] === original_color[2] &&\r\n          canvasImgData[linear_cords - 4 + 3] === original_color[3]\r\n        ) {\r\n          if (!reached_left) {\r\n            pixel_stack.push({ x: x - 1, y: y });\r\n            reached_left = true;\r\n          }\r\n        } else if (reached_left) {\r\n          reached_left = false;\r\n        }\r\n      }\r\n  \r\n      if (x < w - 1) {\r\n        if (\r\n          canvasImgData[linear_cords + 4 + 0] === original_color[0] &&\r\n          canvasImgData[linear_cords + 4 + 1] === original_color[1] &&\r\n          canvasImgData[linear_cords + 4 + 2] === original_color[2] &&\r\n          canvasImgData[linear_cords + 4 + 3] === original_color[3]\r\n        ) {\r\n          if (!reached_right) {\r\n            pixel_stack.push({ x: x + 1, y: y });\r\n            reached_right = true;\r\n          }\r\n        } else if (reached_right) {\r\n          reached_right = false;\r\n        }\r\n      }\r\n      \r\n      linear_cords += w * 4;\r\n    }\r\n  }\r\n}\r\n\r\nconst line = (startX, startY, endX, endY, func) => {\r\n  let dx = Math.abs(endX - startX)\r\n  let dy = Math.abs(endY - startY)\r\n\r\n  let xDir = endX - startX >= 0 ? 1 : -1\r\n  let yDir = endY - startY >= 0 ? 1 : -1\r\n  \r\n  let lineX = startX\r\n  let lineY = startY\r\n\r\n  let step = dx >= dy ? dx : dy\r\n\r\n  dx = dx / step\r\n  dy = dy / step\r\n  \r\n  let i = 0\r\n  while (i < step) {\r\n    func(Math.floor(lineX), Math.floor(lineY))\r\n\r\n    lineX += (dx * xDir)\r\n    lineY += (dy * yDir)\r\n    i += 1\r\n  }\r\n\r\n  func(Math.floor(lineX), Math.floor(lineY))\r\n}\r\n\r\nconst circle = (xCenter, yCenter, currX, currY, func) => {\r\n  let radius = Math.floor(Math.sqrt(Math.pow((currX - xCenter), 2) + Math.pow((currY - yCenter), 2)))\r\n\r\n  if (radius <= 0) return\r\n\r\n  let x = 0\r\n  let y = radius\r\n  let p = 1 - radius\r\n\r\n  const circlePlot = () => {\r\n    func(xCenter + x, yCenter + y)\r\n    func(xCenter + y, yCenter + x)\r\n    func(xCenter - x, yCenter + y)\r\n    func(xCenter - y, yCenter + x)\r\n    func(xCenter + x, yCenter - y)\r\n    func(xCenter + y, yCenter - x)\r\n    func(xCenter - x, yCenter - y)\r\n    func(xCenter - y, yCenter - x)\r\n  }\r\n\r\n  // Plot first set of points\r\n  circlePlot(xCenter, yCenter, x, y)\r\n\r\n  while (x <= y) {\r\n    x++\r\n    if (p < 0) {\r\n      p += 2 * x + 1 // Mid point is inside therefore y remains same\r\n    } else { // Mid point is outside the circle so y decreases\r\n      y--\r\n      p += 2 * (x - y) + 1\r\n    }\r\n\r\n    circlePlot(xCenter, yCenter, x, y)\r\n  }\r\n}\r\n\r\nfunction squareFilled (startX, startY, endX, endY, w, h, color, func) {\r\n  let points = []\r\n\r\n  let dx = Math.abs(endX - startX)\r\n  let dy = Math.abs(endY - startY)\r\n\r\n  let xDir = endX - startX >= 0 ? 1 : -1\r\n  let yDir = endY - startY >= 0 ? 1 : -1\r\n\r\n  let lineX = startX\r\n  let lineY = startY\r\n\r\n  let xStep = 0\r\n  let yStep = 0\r\n\r\n  while (xStep <= dx) {\r\n    yStep = 0\r\n    lineY = startY\r\n\r\n    while (yStep <= dy) {\r\n      func(lineX, lineY)\r\n      //points.push({ x: lineX, y: lineY })\r\n\r\n      lineY += (1 * yDir)\r\n      yStep += 1\r\n    }\r\n\r\n    lineX += (1 * xDir)\r\n    xStep += 1\r\n  }\r\n\r\n  return points\r\n}\r\n\r\nconst square = (startX, startY, endX, endY, func) => {\r\n  let dx = Math.abs(endX - startX)\r\n  let dy = Math.abs(endY - startY)\r\n\r\n  let xDir = endX - startX >= 0 ? 1 : -1\r\n  let yDir = endY - startY >= 0 ? 1 : -1\r\n\r\n  let lineX = startX\r\n  let lineY = startY\r\n  let i = 0\r\n\r\n  func(lineX, lineY)\r\n\r\n  while (i < dx) {\r\n    lineX += (1 * xDir)\r\n    func(lineX, startY)\r\n    func(lineX, (startY + (dy * yDir)))\r\n    i += 1\r\n  }\r\n\r\n  i = 0\r\n\r\n  while (i < dy) {\r\n    lineY += (1 * yDir)\r\n    func(startX, lineY)\r\n    func((startX + (dx * xDir)), lineY)\r\n    i += 1\r\n  }\r\n}\r\n\r\nexport const paintCanvas = (gestureEvent) => {\r\n  // Reset\r\n  VIEW.canvasPreview.ctx.clearRect(0, 0, APP.width, APP.height)\r\n  VIEW.canvasPreview.imgData = VIEW.canvasPreview.ctx.getImageData(0, 0, APP.width, APP.height)\r\n\r\n  // Whole or Selection\r\n  const target = APP.layers[APP.layerActive].frames[APP.frameActive].data // or selection buffer\r\n  const preview = VIEW.canvasPreview.imgData.data\r\n\r\n  // Translate coordinates based on current screen position and canvas scale\r\n  const bb = VIEW.canvasView.dom.getBoundingClientRect()\r\n\r\n  const scaleX = bb.width / VIEW.canvasView.dom.width\r\n  const scaleY = bb.height / VIEW.canvasView.dom.height\r\n\r\n  const startX = Math.floor((VIEW.window.startX - bb.x) / scaleX)\r\n  const startY = Math.floor((VIEW.window.startY - bb.y) / scaleY)\r\n  const prevX = Math.floor((VIEW.window.prevX - bb.x) / scaleX)\r\n  const prevY = Math.floor((VIEW.window.prevY - bb.y) / scaleY)\r\n  const currX = Math.floor((VIEW.window.currX - bb.x) / scaleX)\r\n  const currY = Math.floor((VIEW.window.currY - bb.y) / scaleY)\r\n\r\n  const setBrushPoints = (canvas, x, y, w, h, color) => {\r\n    squareFilled(x - VIEW.brushSize, y - VIEW.brushSize, x + VIEW.brushSize, y + VIEW.brushSize, w, h, color, (x, y) => {\r\n      setPoint(canvas, x, y, w, h, color)\r\n    })\r\n  }\r\n\r\n  if (gestureEvent === 'hover' && APP.tool !== 'eye-dropper' && APP.tool !== 'move') {\r\n    setBrushPoints(preview, currX, currY, APP.width, APP.height, APP.tool !== 'eraser' ? APP.color.rgb : [0, 0, 0, 50])\r\n    VIEW.render()\r\n\r\n    return\r\n  }\r\n\r\n  // Setup Undo\r\n  if (gestureEvent === 'start' && APP.tool !== 'eye-dropper') {\r\n    const copy = new ImageData(APP.width, APP.height)\r\n    copy.data.set(APP.layers[APP.layerActive].frames[APP.frameActive].data)\r\n    const layerActive = APP.layerActive\r\n    const frameActive = APP.frameActive\r\n    \r\n    addToUndo(APP.tool)\r\n\r\n    VIEW.currUndoRef.undo = () => {\r\n      APP.frameActive = frameActive\r\n      APP.layerActive = layerActive\r\n      APP.layers[layerActive].frames[frameActive].data.set(copy.data)\r\n    }\r\n  }\r\n  \r\n  // Eye dropper\r\n  if (gestureEvent === 'end' && APP.tool === 'eye-dropper') {\r\n    const color = getPoint(target, currX, currY, APP.width, APP.height)\r\n    \r\n    if (color[3] !== 0) {\r\n      colorSetRGB(color)\r\n    }\r\n  }\r\n\r\n  // Fill\r\n  if (gestureEvent === 'end' && APP.tool === 'fill') {\r\n    fill(target, currX, currY, APP.width, APP.height, APP.color.rgb)\r\n  }\r\n\r\n  // Points\r\n  if (APP.tool === 'pencil' || APP.tool === 'eraser') {\r\n    if (APP.tool === 'eraser') {\r\n      setBrushPoints(preview, currX, currY, APP.width, APP.height, [0, 0, 0, 50])\r\n    }\r\n    \r\n    line(prevX, prevY, currX, currY, (x, y) => {\r\n      setBrushPoints(target, x, y, APP.width, APP.height, APP.tool === 'pencil' ? APP.color.rgb : [0, 0, 0, 0])\r\n    })\r\n  }\r\n\r\n  // Geometry\r\n  if (APP.tool === 'line' || APP.tool === 'circle' || APP.tool === 'square') {\r\n    const funcs = { 'line': line, 'circle': circle, 'square': square }\r\n    \r\n    funcs[APP.tool](startX, startY, currX, currY, (x, y) => {\r\n      setBrushPoints(gestureEvent === 'start' || gestureEvent === 'resume' ? preview : target, x, y, APP.width, APP.height, APP.color.rgb)\r\n    })\r\n  }\r\n\r\n  // Move\r\n  if (APP.tool === 'move') {\r\n    if (gestureEvent === 'start') {\r\n      // Frame to Selection\r\n      VIEW.canvasSelection.ctx.putImageData(APP.layers[APP.layerActive].frames[APP.frameActive], 0, 0)\r\n      VIEW.canvasSelection.imgData = VIEW.canvasSelection.ctx.getImageData(0, 0, APP.width, APP.height)\r\n\r\n      // Selection to Preview\r\n      VIEW.canvasPreview.ctx.putImageData(VIEW.canvasSelection.imgData, 0, 0)\r\n      VIEW.canvasPreview.imgData = VIEW.canvasPreview.ctx.getImageData(0, 0, APP.width, APP.height)\r\n\r\n      // Clear main canvas\r\n      APP.layers[APP.layerActive].frames[APP.frameActive] = new ImageData(APP.width, APP.height)\r\n    }\r\n\r\n    if (gestureEvent === 'resume') {\r\n      // Selection to Preview\r\n      VIEW.canvasPreview.ctx.putImageData(VIEW.canvasSelection.imgData, prevX - startX, prevY - startY)\r\n      VIEW.canvasPreview.imgData = VIEW.canvasPreview.ctx.getImageData(0, 0, APP.width, APP.height)\r\n    }\r\n\r\n    if (gestureEvent === 'end') {\r\n      // Selection to Preview\r\n      VIEW.canvasPreview.ctx.putImageData(VIEW.canvasSelection.imgData, prevX - startX, prevY - startY)\r\n      VIEW.canvasPreview.imgData = VIEW.canvasPreview.ctx.getImageData(0, 0, APP.width, APP.height)\r\n\r\n      // Preview to Main\r\n      APP.layers[APP.layerActive].frames[APP.frameActive] = VIEW.canvasPreview.ctx.getImageData(0, 0, APP.width, APP.height)\r\n\r\n      VIEW.canvasPreview.ctx.clearRect(0, 0, APP.width, APP.height)\r\n      VIEW.canvasPreview.imgData = VIEW.canvasPreview.ctx.getImageData(0, 0, APP.width, APP.height)\r\n    }\r\n  }\r\n\r\n  // Setup Redo\r\n  if (gestureEvent === 'end' && APP.tool !== 'eye-dropper') {\r\n    const copy = new ImageData(APP.width, APP.height)\r\n    copy.data.set(APP.layers[APP.layerActive].frames[APP.frameActive].data)\r\n    const layerActive = APP.layerActive\r\n    const frameActive = APP.frameActive\r\n\r\n    VIEW.currUndoRef.redo = () => {\r\n      APP.frameActive = frameActive\r\n      APP.layerActive = layerActive\r\n      APP.layers[layerActive].frames[frameActive].data.set(copy.data)\r\n    }\r\n  }\r\n\r\n  VIEW.render()\r\n}\r\n\r\nexport const Canvas = () => {\r\n  return <div id='canvas-inner-scroll' data-request='paintCanvas' data-hover='paintCanvas' class='fl fl-center fl-1' style='width: 1920px; height: 1920px;'>\r\n    <canvas                      \r\n      id='canvas-view'\r\n      width={APP.width}\r\n      height={APP.height}\r\n      style='width: 1920px; height: 1920px; transform: scale(.25); pointer-events: none;' />\r\n  </div>\r\n}","import { undo, redo } from './undo-redo'\r\nimport { setTool } from './canvas'\r\n\r\nconst keyMap = {\r\n  metaKey: {\r\n    z: undo\r\n  },\r\n  shiftKey: {\r\n    metaKey: {\r\n      z: redo\r\n    }\r\n  },\r\n  b: () => {\r\n    setTool('pencil')\r\n  },\r\n  e: () => {\r\n    setTool('eraser')\r\n  },\r\n  u: () => {\r\n    setTool('line')\r\n  },\r\n  g: () => {\r\n    setTool('fill')\r\n  },\r\n  l: () => {\r\n    setTool('eye-dropper')\r\n  },\r\n  v: () => {\r\n    setTool('move')\r\n  }\r\n}\r\n\r\nlet shiftKeyMark = Date.now()\r\nlet metaKeyMark = Date.now()\r\nlet alphaKeyMark = Date.now()\r\n\r\nexport const setupKeyListeners = () => {\r\n  window.addEventListener('keydown', (e) => {\r\n    const key = e.key.toLowerCase()\r\n    \r\n    if (!e.repeat && key === 'meta') {\r\n      metaKeyMark = Date.now()\r\n    } \r\n\r\n    if (!e.repeat && key === 'shift') {\r\n      shiftKeyMark = Date.now()\r\n    } \r\n\r\n    if (!e.repeat && key === 'z') {\r\n      alphaKeyMark = Date.now()\r\n    }\r\n\r\n    if (e.shiftKey && e.metaKey) {\r\n      if ((shiftKeyMark < metaKeyMark < alphaKeyMark) && key === 'z') {\r\n        keyMap.shiftKey.metaKey['z']()\r\n      }\r\n    }\r\n    \r\n    if (!e.shiftKey && e.metaKey) {\r\n      if ((metaKeyMark < alphaKeyMark) && key === 'z') {\r\n        keyMap.metaKey['z']()\r\n      }\r\n    }\r\n\r\n    if (e.shiftKey && !e.metaKey) {\r\n      if ((shiftKeyMark < alphaKeyMark) && key === 'z') {\r\n        // keyMap.shiftKey['z']()\r\n      }\r\n    }\r\n\r\n    if (!e.shiftKey && !e.metaKey && keyMap[e.key.toLowerCase()]) {\r\n      keyMap[e.key.toLowerCase()]()\r\n    }\r\n  })\r\n}\r\n","import { h, render } from 'preact'\r\nimport { APP, VIEW, canvases } from './data'\r\nimport { addToUndo } from './undo-redo'\r\n\r\nconst setTargetCanvas = (frame, layer) => {\r\n  if (frame === undefined) console.error('setTargetCanvas - no frame given')\r\n  if (layer === undefined) console.error('setTargetCanvas - no layer given')\r\n\r\n  APP.frameActive = frame\r\n  APP.layerActive = layer\r\n\r\n  VIEW.render()\r\n}\r\n\r\nconst seq = (request, type, data) => {\r\n  const inserting = request === 'insert' || request === 'duplicate'\r\n  \r\n  function action (req, ref, target, entry) {\r\n    if (req === 'insert') ref.splice(target + 1, 0, entry)\r\n    if (req === 'delete') ref.splice(target, 1)\r\n  }\r\n\r\n  if (type === 'layer') {\r\n    if (request === 'insert') {\r\n      action(request, APP.layers, APP.layerActive, data)\r\n    }\r\n\r\n    if (request === 'delete') {\r\n      action(request, APP.layers, APP.layerActive)\r\n    }\r\n  }\r\n\r\n  if (type === 'frame') {\r\n    if (request === 'insert') {\r\n      APP.layers.forEach((layer, i) => {\r\n        const entry = new ImageData(APP.width, APP.height)\r\n        entry.data.set(data[i].data)\r\n        action(request, layer.frames, APP.frameActive, entry)\r\n      })\r\n    }\r\n\r\n    if (request === 'delete') {\r\n      APP.layers.forEach(layer => {\r\n        action(request, layer.frames, APP.frameActive)\r\n      })\r\n    }\r\n  }\r\n\r\n  APP[`${type}Count`] += (inserting ? 1 : -1)\r\n\r\n  if (inserting) {\r\n    APP[`${type}Active`] += 1\r\n  } \r\n  \r\n  if (request === 'delete') {\r\n    if (APP[`${type}Active`] === APP[`${type}Count`]) {\r\n      APP[`${type}Active`] -= 1\r\n    } \r\n  }\r\n}\r\n\r\nexport const timelineManager = ({ type, request, requestType, data, disableUndoRedo }) => {\r\n  const layerActive = APP.layerActive\r\n  const frameActive = APP.frameActive\r\n  const layerCount = APP.layerCount\r\n  const frameCount = APP.frameCount\r\n\r\n  if (!disableUndoRedo) {\r\n    addToUndo(request, type)\r\n\r\n    VIEW.currUndoRef.redo = () => {\r\n      APP.frameCount = frameCount\r\n      APP.layerCount = layerCount\r\n      APP.frameActive = frameActive\r\n      APP.layerActive = layerActive\r\n      timelineManager({ type, request, requestType, data, disableUndoRedo: true })\r\n    }\r\n  }\r\n\r\n  const newData = type === 'layer' ? {\r\n    name: `Layer ${layerCount + 1}`,\r\n    hidden: false,\r\n    frames: new Array(frameCount).fill(undefined).map(frame => new ImageData(APP.width, APP.height))\r\n  } : new Array(APP.layerCount)\r\n    .fill(undefined)\r\n    .map(item => {\r\n      return new ImageData(APP.width, APP.height)\r\n    })\r\n  \r\n  const cloneData = type === 'layer' ? {\r\n    name: `${APP.layers[layerActive].name} ${requestType === 'clone' ? '(Copy)' : ''}`,\r\n    hidden: false,\r\n    frames: new Array(frameCount)\r\n      .fill(undefined)\r\n      .map((frame, frameI) => {\r\n        const imgData = new ImageData(APP.width, APP.height)\r\n        imgData.data.set(APP.layers[layerActive].frames[frameI].data)\r\n        return imgData\r\n      })\r\n  } : new Array(layerCount)\r\n      .fill(undefined)\r\n      .map((item, i) => {\r\n        const copy = new ImageData(APP.width, APP.height)\r\n        copy.data.set(APP.layers[i].frames[frameActive].data)\r\n        return copy\r\n      })\r\n  \r\n  if ((type === 'layer' || type === 'frame') && (requestType === 'new' || requestType === 'clone')) {\r\n    seq('insert', type, requestType === 'new' ? newData : cloneData)\r\n  }\r\n\r\n  if ((type === 'layer' || type === 'frame') && request === 'delete') {\r\n    if (APP[`${type}Count`] - 1 === 0) {\r\n      seq('delete', type)\r\n      if (type === 'layer') newData.name = 'Layer 1'\r\n      seq('insert', type, newData)\r\n    } else {\r\n      seq('delete', type)\r\n    }\r\n  }\r\n\r\n  const layerActiveAfter = APP.layerActive\r\n  const frameActiveAfter = APP.frameActive\r\n  const layerCountAfter = APP.layerCount\r\n  const frameCountAfter = APP.frameCount\r\n  \r\n  if (!disableUndoRedo) {\r\n    VIEW.currUndoRef.undo = () => {\r\n      APP.frameCount = frameCountAfter\r\n      APP.layerCount = layerCountAfter\r\n  \r\n      if (type === 'layer') {\r\n        APP.frameActive = frameActiveAfter\r\n        \r\n        if (request === 'insert') {\r\n          APP.layerActive = layerActiveAfter\r\n          seq('delete', type)\r\n        }\r\n  \r\n        if (request === 'delete' && layerCount !== 1) {\r\n          APP.layerActive = layerActive - 1\r\n          seq('insert', type, cloneData)\r\n        }\r\n\r\n        if (request === 'delete' && layerCount === 1) {\r\n          seq('delete', type)\r\n          seq('insert', type, cloneData)\r\n        }\r\n      }\r\n\r\n      if (type === 'frame') {\r\n        APP.layerActive = layerActiveAfter\r\n        \r\n        if (request === 'insert') {\r\n          APP.frameActive = frameActiveAfter\r\n          seq('delete', type)\r\n        }\r\n  \r\n        if (request === 'delete' && frameCount !== 1) {\r\n          APP.frameActive = frameActive - 1\r\n          seq('insert', type, cloneData)\r\n        }\r\n\r\n        if (request === 'delete' && frameCount === 1) {\r\n          seq('delete', type)\r\n          seq('insert', type, cloneData)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  VIEW.render()\r\n}\r\n\r\nconst swap = (type, dir) => {\r\n  const step = dir === 'up' ? -1 : 1\r\n  const active = type === 'layer' ? 'layerActive' : 'frameActive'\r\n  const length = type === 'layer' ? APP.layerCount : APP.frameCount\r\n\r\n  if (APP[active] + step === -1) return\r\n  if (APP[active] + step === length) return\r\n\r\n  if (type === 'layer') {\r\n    const temp = APP.layers[APP.layerActive + step]\r\n    APP.layers[APP.layerActive + step] = APP.layers[APP.layerActive]\r\n    APP.layers[APP.layerActive] = temp\r\n  }\r\n\r\n  if (type === 'frame') {\r\n    APP.layers.forEach(layer => {\r\n      const temp = layer.frames[APP.frameActive + step]\r\n      layer.frames[APP.frameActive + step] = layer.frames[APP.frameActive]\r\n      layer.frames[APP.frameActive] = temp\r\n    })\r\n  }\r\n\r\n  APP[active] += step\r\n\r\n  VIEW.render()\r\n}\r\n\r\nconst layersEditHidden = (i) => {\r\n  APP.layers[i].hidden = !APP.layers[i].hidden\r\n  VIEW.render()\r\n}\r\n\r\nconst nextFrame = () => {\r\n  APP.frameActive = (APP.frameActive + 1) % APP.frameCount\r\n  VIEW.render()\r\n}\r\n\r\nconst lastFrame = () => {\r\n  APP.frameActive = APP.frameActive - 1 === -1 ? APP.frameCount - 1 : APP.frameActive - 1\r\n  VIEW.render()\r\n}\r\n\r\n// Animation\r\nconst scheduler = () => {\r\n  APP.frameActive = (APP.frameActive + 1) % APP.frameCount\r\n  VIEW.render()\r\n  VIEW.timerID = setTimeout(scheduler, 100)\r\n}\r\n\r\nconst togglePlay = () => {\r\n  if (APP.frameCount === 1) return\r\n\r\n  if (VIEW.isPlaying) {\r\n    clearTimeout(VIEW.timerID)\r\n  } else {\r\n    scheduler()\r\n  }\r\n  \r\n  VIEW.isPlaying = !VIEW.isPlaying\r\n  VIEW.render()\r\n}\r\n\r\nexport const Timeline= () => {\r\n  return (\r\n    <div class='bg-light bord-dark-t fl-column' style='height: 250px;'>\r\n        <div class='fl w-full bord-dark-b h-30'>\r\n          <div class='fl fl-justify-between bord-dark-r' style='width: 210px;'>\r\n            {/* <div style='width: 90px;' class='p-h-10 fl fl-center-y bord-dark-r'>\r\n              <small><b>Layers</b></small>\r\n            </div> */}\r\n            <div class='fl'>\r\n              <button\r\n                onClick={() => { if (APP.layerCount < 30) timelineManager({ type:'layer', request: 'insert', requestType: 'new' }) }}\r\n                class='w-30 fl fl-center bord-dark-r' >\r\n                <img src={`img/insert.svg`} />\r\n              </button>\r\n              <button\r\n                onClick={() => { timelineManager({ type:'layer', request: 'insert', requestType: 'clone' }) }}\r\n                class='w-30 fl fl-center bord-dark-r' >\r\n                <img src={`img/clone.svg`} />\r\n              </button>\r\n              <button\r\n                onClick={() => { swap('layer', 'down') }}\r\n                class='w-30 fl fl-center bord-dark-r'>\r\n                <img src={`img/up.svg`} />\r\n              </button>\r\n              <button\r\n                onClick={() => { swap('layer', 'up') }}\r\n                class='w-30 fl fl-center bord-dark-r'>\r\n                <img src={`img/down.svg`} />\r\n              </button>\r\n              <button\r\n                onClick={() => { timelineManager({ type:'layer', request: 'delete' }) }}\r\n                class='w-30 fl fl-center bord-dark-r'>\r\n                <img src={`img/delete.svg`} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div class='fl fl-1'>\r\n            <div class='fl'>\r\n              <button\r\n                onClick={() => { VIEW.onionSkinning = !VIEW.onionSkinning; VIEW.render() }}\r\n                class=\"fl fl-center m-0 p-0 w-30 bord-dark-r\"\r\n                style={VIEW.onionSkinning ? 'background: rgba(52, 152, 219, 255);' : ''}>\r\n                <img src=\"img/onion.svg\" />\r\n              </button>\r\n            </div>\r\n            <div class='fl-1 fl fl-justify-center'>\r\n              <div class='fl'>\r\n                <button\r\n                  onClick={() => { lastFrame() }}\r\n                  class=\"fl fl-center m-0 p-0 w-30 bord-dark-r bord-dark-l\" >\r\n                  <img src=\"img/lastframe.svg\" />\r\n                </button>\r\n                <button\r\n                  onClick={() => { togglePlay() }}\r\n                  class=\"fl fl-center m-0 p-0 w-30 bord-dark-r\" >\r\n                  <img src={`img/${VIEW.isPlaying ? 'stop.svg' : 'play.svg'}`} />\r\n                </button>\r\n                <button\r\n                  onClick={() => { nextFrame() }}\r\n                  class=\"fl fl-center m-0 p-0 w-30 bord-dark-r\" >\r\n                  <img src=\"img/nextframe.svg\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div class='fl'>\r\n              <button\r\n                onClick={() => { if (!VIEW.isPlaying && APP.frameCount < 50) timelineManager({ type: 'frame', request: 'insert', requestType: 'new' }) }}\r\n                class='w-30 fl fl-center bord-dark-r bord-dark-l'>\r\n                <img src={`img/insert.svg`} />\r\n              </button>\r\n              <button\r\n                onClick={() => { timelineManager({ type:'frame', request: 'insert', requestType: 'clone' }) }}\r\n                class='w-30 fl fl-center bord-dark-r' >\r\n                <img src={`img/clone.svg`} />\r\n              </button>\r\n              <button\r\n                onClick={() => { if (!VIEW.isPlaying) swap('frame', 'up') }}\r\n                class='w-30 fl fl-center bord-dark-r'>\r\n                <img src={`img/up.svg`} style='transform: rotate(-90deg);'/>\r\n              </button>\r\n              <button\r\n                onClick={() => { if (!VIEW.isPlaying) swap('frame', 'down') }}\r\n                class='w-30 fl fl-center bord-dark-r'>\r\n                <img src={`img/down.svg`} style='transform: rotate(-90deg);' />\r\n              </button>\r\n              <button\r\n                onClick={() => { if (!VIEW.isPlaying) timelineManager({ type:'frame', request: 'delete' }) }}\r\n                class='w-30 fl fl-center'>\r\n                <img src={`img/delete.svg`} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class='fl bg-mid' style='height: calc(100% - 30px);'>\r\n          <div id='layers' class='overflow hide-scroll' style='padding-bottom: 30px;'>\r\n            <div class='bord-dark-r fl-col-reverse' style='width: 210px;'>\r\n              {\r\n                APP.layers.map((layer, li) => {\r\n                  return <div\r\n                    class='fl bord-dark-b h-30'\r\n                    style={`background: ${APP.layerActive === li ? 'rgb(100, 100, 100)' :''};`}>\r\n                    <button\r\n                      style={`${layer.hidden ? 'background: rgba(52, 152, 219, 255);' : ''}`}\r\n                      onClick={() => { layersEditHidden(li) }}\r\n                      class='w-30 h-30 fl fl-center bord-dark-b'>\r\n                      <img src={`img/${layer.hidden ? 'eye-active.svg' : 'eye.svg'}`} />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => { setTargetCanvas(APP.frameActive, li) }}\r\n                      class='fl-1 txt-left'>\r\n                      <small style='font-size: 11px;'><b>{layer.name}</b></small>\r\n                    </button>\r\n                  </div>\r\n                })\r\n              }\r\n            </div>\r\n          </div>\r\n          <div id='frames' class='fl-1 overflow hide-scroll' style='padding-bottom: 30px;'>\r\n            <div class='fl-col-reverse'>\r\n              {\r\n                APP.layers.map((layer, li) => {\r\n                  return <div\r\n                    class='fl'>\r\n                    {\r\n                      layer.frames.map((canvas, fi) => {\r\n                        return <button\r\n                          onClick={() => { setTargetCanvas(fi, li) }}\r\n                          class='w-30 h-30 fl fl-center bord-dark-r bord-dark-b bg-light rel'\r\n                          style={`\r\n                            background: ${\r\n                              APP.frameActive === fi && APP.layerActive === li\r\n                                ? 'rgba(52, 152, 219, 255)'\r\n                                : (APP.frameActive === fi || APP.layerActive === li)\r\n                                  ? 'rgba(100, 100, 100, 255)'\r\n                                  : 'rgba(0, 0, 0, 0)'\r\n                            };`}>\r\n                          <div class='abs bottom right p-5' ><small style='font-size: 8px;'><b>{fi + 1}</b></small></div>\r\n                          {/* <div class='bg-white' style='border-radius: 100%; width: 8px; height: 8px;' /> */}\r\n                        </button>\r\n                      })\r\n                    }\r\n                  </div>\r\n                })\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  )\r\n}","import { h, render, Component } from 'preact'\r\nimport { APP, VIEW, initCanvases, newData } from './data'\r\nimport { undo, redo } from './undo-redo'\r\nimport { setTool } from './canvas'\r\nimport { setupKeyListeners } from './keyboard'\r\n\r\n// Components\r\nimport { Color } from './color'\r\nimport { Timeline } from './timeline'\r\nimport { Canvas, paintCanvas } from './canvas'\r\n\r\nconst loadData = ({ onLoaded, onError }) => {\r\n  //console.time('startRead')\r\n  localforage.getItem('pixel-art-app').then((stored) => {\r\n    //console.timeEnd('startRead')\r\n    for (const key in stored) {\r\n      APP[key] = stored[key]\r\n    }\r\n\r\n    onLoaded()\r\n  }).catch(function(err) {\r\n    console.log(err)\r\n    onError()\r\n  });\r\n}\r\n\r\nconst saveData = () => {\r\n  //console.time('startwrite')\r\n  localforage.setItem('pixel-art-app', APP).then(function(value) {\r\n    // This will output `1`.\r\n    //console.timeEnd('startwrite')\r\n  }).catch(function(err) {\r\n    // This code runs if there were any errors\r\n    console.log(err);\r\n  });\r\n}\r\n\r\nconst downloadCanvas = (e) => {\r\n  const c = document.createElement('canvas')\r\n  const ctx = c.getContext('2d')\r\n  const height = APP.height * VIEW.downloadCanvas.size\r\n  const width = APP.width * VIEW.downloadCanvas.size\r\n\r\n  if (VIEW.downloadCanvas.type === 'frame') {\r\n    c.width = width\r\n    c.height = height\r\n\r\n    ctx.webkitImageSmoothingEnabled = false\r\n    ctx.mozImageSmoothingEnabled = false\r\n    ctx.imageSmoothingEnabled = false\r\n\r\n    APP.layers.forEach(layer => {\r\n      VIEW.canvasTemp.ctx.putImageData(layer.frames[APP.frameActive], 0, 0)\r\n      ctx.drawImage(VIEW.canvasView.dom, 0, 0, c.width, c.height)\r\n    })\r\n  }\r\n\r\n  if (VIEW.downloadCanvas.type === 'spritesheet') {\r\n    const totalWidth = APP.width * VIEW.downloadCanvas.size * APP.frameCount\r\n    c.width = totalWidth\r\n    c.height = height\r\n\r\n    ctx.webkitImageSmoothingEnabled = false\r\n    ctx.mozImageSmoothingEnabled = false\r\n    ctx.imageSmoothingEnabled = false\r\n\r\n    console.log(APP.frameCount)\r\n    for (let frameI = 0; frameI < APP.frameCount; frameI++) {\r\n      APP.layers.forEach(layer => {\r\n        VIEW.canvasTemp.ctx.putImageData(layer.frames[frameI], 0, 0)\r\n        ctx.drawImage(VIEW.canvasTemp.dom, frameI * width, 0, width, height)\r\n      })\r\n    }\r\n  }\r\n\r\n  const image = c.toDataURL('image/png').replace('image/png', 'image/octet-stream')\r\n  e.target.setAttribute('href', image)\r\n}\r\n\r\nclass View extends Component{\r\n  componentDidMount () {\r\n    VIEW.render = () => {\r\n      this.setState({}, () => {\r\n        VIEW.canvasTemp.ctx.clearRect(0, 0, APP.width, APP.height)\r\n        VIEW.canvasFinal.ctx.clearRect(0, 0, APP.width, APP.height)\r\n        VIEW.canvasView.ctx.clearRect(0, 0, APP.width, APP.height)\r\n\r\n        APP.layers.forEach((layer, i) => {\r\n          VIEW.canvasView.ctx.globalAlpha = 1\r\n\r\n          if (layer.hidden) return\r\n\r\n          // Onion skinning\r\n          if (APP.layerActive === i && VIEW.onionSkinning && !VIEW.isPlaying) {\r\n            const framesAhead = 3\r\n            const framesBehind = 3\r\n            const framesTotal = framesBehind + framesAhead\r\n\r\n            VIEW.canvasView.ctx.globalAlpha = .5\r\n\r\n            for (let a = framesAhead - framesTotal; a < framesAhead; a++) {\r\n              if (!layer.frames[APP.frameActive - a]) continue\r\n\r\n              const target = layer.frames[APP.frameActive - a] \r\n              VIEW.canvasTemp.ctx.putImageData(target, 0, 0)\r\n              VIEW.canvasView.ctx.drawImage(VIEW.canvasTemp.dom, 0, 0)\r\n            }\r\n          }\r\n\r\n          // Regular frame render\r\n          VIEW.canvasView.ctx.globalAlpha = 1\r\n\r\n          const target = layer.frames[APP.frameActive]\r\n\r\n          for (let b = 0; b < 2; b++) { // For whatever reason safari makes me do this twice\r\n            // Target Canvas\r\n            VIEW.canvasTemp.ctx.putImageData(target, 0, 0)\r\n            VIEW.canvasView.ctx.drawImage(VIEW.canvasTemp.dom, 0, 0)\r\n            \r\n            // Preview Canvas\r\n            if (APP.layerActive === i) {\r\n              VIEW.canvasTemp.ctx.putImageData(VIEW.canvasPreview.imgData, 0, 0)\r\n              VIEW.canvasView.ctx.drawImage(VIEW.canvasTemp.dom, 0, 0)\r\n            }\r\n          }\r\n        })\r\n      })\r\n    }\r\n\r\n    initCanvases()\r\n\r\n    this.funcs = { paintCanvas }\r\n\r\n    // View control customization\r\n    this.canvasOuterScroll = document.querySelector('#canvas-outer-scroll')\r\n    this.canvasInnerScroll = document.querySelector('#canvas-inner-scroll')\r\n\r\n    this.timelineScroll = {\r\n      isSyncingLeftScroll: false,\r\n      isSyncingRightScroll: false,\r\n      leftDiv: document.querySelector('#layers'),\r\n      rightDiv: document.querySelector('#frames')\r\n    }\r\n\r\n    this.timelineScrollController()\r\n    this.centerCanvas()\r\n\r\n    // Adding google analytics\r\n    window.dataLayer = window.dataLayer || [];\r\n    function gtag(){dataLayer.push(arguments);}\r\n    gtag('js', new Date());\r\n\r\n    gtag('config', 'UA-144729452-1');\r\n  }\r\n\r\n  centerCanvas () {\r\n    const outerW = this.canvasOuterScroll.offsetWidth\r\n    const innerW = this.canvasInnerScroll.offsetWidth\r\n    const outerH = this.canvasOuterScroll.offsetHeight\r\n    const innerH = this.canvasInnerScroll.offsetHeight\r\n    \r\n    this.canvasOuterScroll.scrollLeft = Math.floor((innerW - outerW) / 2) + 8\r\n    this.canvasOuterScroll.scrollTop = Math.floor((innerH - outerH) / 2) + 8\r\n  }\r\n\r\n  timelineScrollController () {\r\n    this.timelineScroll.leftDiv.addEventListener('scroll', (e) => {\r\n      if (!this.timelineScroll.isSyncingLeftScroll) {\r\n        this.timelineScroll.isSyncingRightScroll = true\r\n        this.timelineScroll.rightDiv.scrollTop = e.target.scrollTop\r\n      }\r\n      this.timelineScroll.isSyncingLeftScroll = false\r\n    })\r\n    \r\n    this.timelineScroll.rightDiv.addEventListener('scroll', (e) => {\r\n      if (!this.timelineScroll.isSyncingRightScroll) {\r\n        this.timelineScroll.isSyncingLeftScroll = true\r\n        this.timelineScroll.leftDiv.scrollTop = e.target.scrollTop\r\n      }\r\n      this.timelineScroll.isSyncingRightScroll = false\r\n    })\r\n  }\r\n\r\n  onGestureDown (e) {\r\n    if (!VIEW.isPlaying) \r\n\r\n    VIEW.window.request = e.target.dataset.request || ''\r\n    VIEW.window.mouseDown = true\r\n    VIEW.window.startX = (e.pageX === undefined) ? e.touches[0].pageX : e.pageX\r\n    VIEW.window.startY = (e.pageY === undefined) ? e.touches[0].pageY : e.pageY\r\n    VIEW.window.prevX = (e.pageX === undefined) ? e.touches[0].pageX : e.pageX\r\n    VIEW.window.prevY = (e.pageY === undefined) ? e.touches[0].pageY : e.pageY\r\n    VIEW.window.currX = (e.pageX === undefined) ? e.touches[0].pageX : e.pageX\r\n    VIEW.window.currY = (e.pageY === undefined) ? e.touches[0].pageY : e.pageY\r\n\r\n    if (VIEW.window.request) this.funcs[VIEW.window.request]('start')\r\n  }\r\n  \r\n  onGestureDrag (e) {\r\n    if (!VIEW.isPlaying) \r\n\r\n    VIEW.window.prevX = VIEW.window.currX\r\n    VIEW.window.prevY = VIEW.window.currY\r\n    VIEW.window.currX = (e.pageX === undefined) ? e.touches[0].pageX : e.pageX\r\n    VIEW.window.currY = (e.pageY === undefined) ? e.touches[0].pageY : e.pageY\r\n    \r\n    if (VIEW.window.request) this.funcs[VIEW.window.request]('resume')\r\n  \r\n    if (e.target.tagName !== 'INPUT') { // prevent block on input range elements\r\n      e.preventDefault() // block pull to refresh on mobile browsers\r\n    }\r\n  }\r\n\r\n  onGestureEnd (e) {\r\n    if (!VIEW.isPlaying)\r\n\r\n    if (VIEW.window.request) this.funcs[VIEW.window.request]('end')\r\n\r\n    VIEW.window.request = ''\r\n    VIEW.window.mouseDown = false\r\n    VIEW.window.startX = 0\r\n    VIEW.window.startY = 0\r\n    VIEW.window.prevX = 0\r\n    VIEW.window.prevY = 0\r\n    VIEW.window.currX = 0\r\n    VIEW.window.currY = 0\r\n\r\n    setTimeout(() => {\r\n      saveData()\r\n    }, 50)\r\n  }\r\n\r\n  onGestureHover (e) {\r\n    if (!VIEW.isPlaying)\r\n\r\n    VIEW.window.prevX = VIEW.window.currX\r\n    VIEW.window.prevY = VIEW.window.currY\r\n    VIEW.window.currX = (e.pageX === undefined) ? e.touches[0].pageX : e.pageX\r\n    VIEW.window.currY = (e.pageY === undefined) ? e.touches[0].pageY : e.pageY\r\n\r\n    if (e.target.dataset.hover) this.funcs[e.target.dataset.hover]('hover')\r\n  }\r\n  \r\n  dragOrHover (e) {\r\n    if (VIEW.window.mouseDown) {\r\n      this.onGestureDrag(e)\r\n    } else {\r\n      this.onGestureHover(e)\r\n    }\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div\r\n        class='h-full relative'\r\n        onMouseDown={(e) => { if (e.which === 1) this.onGestureDown(e); }}\r\n        onMouseMove={(e) => { this.dragOrHover(e) }}\r\n        onMouseUp={(e) => { this.onGestureEnd(e) }}>\r\n        <div class='h-40 bg-light bord-dark-b fl'>\r\n          <div class=\"fl w-full\">\r\n            <div class=\"fl-1 fl\">\r\n              <div class=\"fl bord-dark-r rel w-40\"\r\n                onMouseLeave={() => {\r\n                  VIEW.file.open = false\r\n                  VIEW.render()\r\n                }}>\r\n                <button\r\n                  onClick={() => {\r\n                    VIEW.file.open = !VIEW.file.open\r\n                    VIEW.render()\r\n                  }}\r\n                  class=\"fl fl-center m-0 p-0 w-40\">\r\n                  <img src=\"img/bars.svg\" />\r\n                </button>\r\n                <div\r\n                  class=\"bg-light fl-column bord-dark abs z-5\"\r\n                  style={`visibility: ${VIEW.file.open ? 'visible' : 'hidden'}; top: 10px; left: 10px;`}>\r\n                    <button\r\n                      onClick={() => {\r\n                        VIEW.newCanvas.open = true\r\n                        VIEW.file.open = false\r\n                        VIEW.render()\r\n                      }}\r\n                      class=\"m-0 p-h-15 h-40 fl fl-center-y\">\r\n                      <img src={`img/new.svg`} />\r\n                      <small class=\"bold p-h-10\" style='text-transform: capitalize;'>New</small>\r\n                    </button>\r\n                    <button\r\n                      onClick={() => {\r\n                        VIEW.downloadCanvas.open = true\r\n                        VIEW.file.open = false\r\n                        VIEW.render()\r\n                      }}\r\n                      class=\"m-0 p-h-15 h-40 fl fl-center-y\">\r\n                      <img src={`img/download.svg`} />\r\n                      <small class=\"bold p-h-10\" style='text-transform: capitalize;'>download</small>\r\n                    </button>\r\n                </div>\r\n              </div>\r\n              <div class='fl-1 fl fl-justify-center'>\r\n                <button\r\n                  onClick={() => { undo() }}\r\n                  class=\"fl fl-center m-0 p-0 w-40 bord-dark-l bord-dark-r\">\r\n                  <img src=\"img/undo.svg\" />\r\n                </button>\r\n                <button\r\n                  onClick={() => { redo() }}\r\n                  class=\"fl fl-center m-0 p-0 w-40 bord-dark-r\">\r\n                  <img src=\"img/redo.svg\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div class=\"fl\" style=\"max-width: 241px; min-width: 241px;\">\r\n              \r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class='fl' style='height: calc(100% - 40px); '>\r\n          <div class='w-40 bg-light bord-dark-r'>\r\n            {\r\n              ['pencil', 'eraser', 'line', 'circle', 'square', 'fill', 'eye-dropper', 'move'].map(tool => \r\n                <button\r\n                  onClick={() => { setTool(tool) }}\r\n                  class=\"fl fl-center m-0 p-0 w-40 h-40 bord-dark-r\"\r\n                  style={`${APP.tool === tool ? 'background: rgba(52, 152, 219, 255);' : ''}`}>\r\n                  <img src={`img/${tool}.svg`} />\r\n                </button>\r\n              )\r\n            }\r\n          </div>\r\n          <div class='fl-column' style='width: calc(100% - 281px);'>\r\n            <div\r\n              id='canvas-outer-scroll'\r\n              class={`overflow fl-1 cursor-${APP.tool}`}>\r\n              <Canvas />\r\n            </div>\r\n            <Timeline />\r\n            {/* <div class='fl-1 h-full fl'>\r\n              <div class='fl-1 fl-column h-full' style='width: calc(100% - 281px);'>\r\n                <Canvas />\r\n                <Timeline />\r\n              </div>\r\n            </div> */}\r\n          </div>\r\n          <div class='bg-light bord-dark-l fl-column' style=\"max-width: 241px; min-width: 241px;\">\r\n            <div class='bord-dark-b fl-column overflow'>\r\n              <div class='h-30 bg-mid bord-dark-b fl fl-center-y p-h-10'>\r\n                <small><b>Tool</b></small>\r\n              </div>\r\n              <div class='fl-1 overflow'>\r\n                <div class=\"fl fl-center p-10\">\r\n                  <small class=\"bold\" style=\"width: 150px;\">Brush Size</small>\r\n                  <select\r\n                    onInput={(e) => {\r\n                      VIEW.brushSize = parseInt(e.target.value)\r\n                    }}\r\n                    value={VIEW.brushSize}\r\n                    class=\"w-full\">\r\n                      {\r\n                        [1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((size, i) => {\r\n                          return <option value={i}>{size}</option>\r\n                        })\r\n                      }\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <Color />\r\n            <div class='fl-1 bord-dark-b fl-column overflow'>\r\n              <div class='h-30 bg-mid bord-dark-b fl fl-center-y p-h-10'>\r\n                <small><b>History</b></small>\r\n              </div>\r\n              <div class='fl-1 overflow'>\r\n                {\r\n                  VIEW.undo.map((entry, i) => {\r\n                    return <button class={`p-h-10 h-30 w-full txt-left fl fl-center-y ${VIEW.undoPos === i ? 'bg-xlight' : ''}`} >\r\n                      <img width='10' height='10' style='margin-right: 10px;' src={`img/${entry.icon}`} />\r\n                      <small style='text-transform: capitalize; font-size: 11px;'><b>{entry.action}</b></small>\r\n                    </button>\r\n                  })\r\n                }\r\n              </div>\r\n            </div>\r\n            <div style='min-height: 249px; max-height: 249px;'>\r\n              <div class='h-30 bg-mid bord-dark-b fl fl-center-y p-h-10'>\r\n                <small><b>Timeline</b></small>\r\n              </div>\r\n              <div class='overflow fl-1'>\r\n                \r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {VIEW.newCanvas.open && <div class=\"abs top left w-full h-full fl fl-justify-center\" style=\"z-index: 10;\">\r\n          <div class=\"w-full overflow-hidden\" style=\"max-width: 300px; margin-top: 175px;\">\r\n            <div class=\"fl fl-center bg-mid bord-dark p-v-5\" style='border-top-right-radius: 5px; border-top-left-radius: 5px;'><small><b>New Canvas</b></small></div>\r\n            <div class=\"p-10 bg-light bord-dark-l bord-dark-r bord-dark-b\" style='border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;'>\r\n              <div class=\"m-5 p-v-5\">\r\n                <div class=\"fl fl-center\">\r\n                  <small class=\"bold\" style=\"width: 150px;\">Dimensions</small>\r\n                  <select\r\n                    onInput={(e) => {\r\n                      const val = e.target.value.split('x')\r\n                      VIEW.newCanvas.w = parseInt(val[0])\r\n                      VIEW.newCanvas.h = parseInt(val[1])\r\n                    }}\r\n                    class=\"w-full\">\r\n                    <option value=\"32x32\">32x32</option>\r\n                    <option value=\"50x50\">50x50</option>\r\n                    <option value=\"64x64\">64x64</option>\r\n                    <option value=\"100x100\">100x100</option>\r\n                    <option value=\"128x128\">128x128</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"fl\" style=\"padding-top: 5px;\">\r\n                <button\r\n                  onClick={() => {\r\n                    VIEW.newCanvas.open = false\r\n                    VIEW.render()\r\n                  }}\r\n                  class=\"b-r-2 bold p-5 w-full bg-red m-5\">Cancel</button>\r\n                <button\r\n                  onClick={() => {\r\n                    newData(VIEW.newCanvas.w, VIEW.newCanvas.h)\r\n                    VIEW.newCanvas.open = false\r\n                    VIEW.render()\r\n                  }}\r\n                  class=\"b-r-2 bold p-5 w-full bg-green m-5\">Confirm</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>}\r\n        {VIEW.downloadCanvas.open && <div class=\"abs top left w-full h-full fl fl-center-x\" style=\"z-index: 10;\">\r\n          <div class=\"w-full\" style=\"max-width: 300px; overflow: hidden; margin-top: 175px;\">\r\n              <div class=\"fl fl-center bg-mid bord-dark p-v-5\" style='border-top-right-radius: 5px; border-top-left-radius: 5px;'><small class=\"bold\">Download</small></div>\r\n              <div class=\"p-10 bg-light bord-dark-l bord-dark-r bord-dark-b\" style='border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;'>\r\n                <div class=\"m-5 p-v-5\">\r\n                  <div class=\"fl fl-center\">\r\n                    <small class=\"bold\" style=\"width: 150px;\">Type</small>\r\n                    <select\r\n                      onInput={(e) => {\r\n                        VIEW.downloadCanvas.type = e.target.value\r\n                      }}\r\n                      value={VIEW.downloadCanvas.type}\r\n                      id=\"config-download-size\" class=\"w-full\">\r\n                        <option value=\"frame\">Frame</option>\r\n                        <option value=\"spritesheet\">Spritesheet</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <div class=\"m-5 p-v-5\">\r\n                    <div class=\"fl fl-center\">\r\n                      <small class=\"bold\" style=\"width: 150px;\">Size</small>\r\n                      <select\r\n                        onInput={(e) => {\r\n                          VIEW.downloadCanvas.size = parseInt(e.target.value)\r\n                        }}\r\n                        value={VIEW.downloadCanvas.size}\r\n                        id=\"config-download-size\" class=\"w-full\">\r\n                          <option value=\"2\">2x</option>\r\n                          <option value=\"4\">4x</option>\r\n                          <option value=\"8\">8x</option>\r\n                          <option value=\"16\">16x</option>\r\n                          <option value=\"32\">32x</option>\r\n                          <option value=\"64\">64x</option>\r\n                      </select>\r\n                    </div>\r\n                </div>\r\n                <div class=\"fl\" style=\"padding-top: 5px;\">\r\n                  <button\r\n                    onClick={() => {\r\n                      VIEW.downloadCanvas.open = false\r\n                      VIEW.render()\r\n                    }}\r\n                    class=\"b-r-2 bold p-5 w-full bg-red m-5\">Cancel</button>\r\n                  <a\r\n                    onClick={(e) => {\r\n                      downloadCanvas(e)\r\n                    }}\r\n                    class=\"w-full m-5 clickable\" download=\"pixel-art.png\" style=\"display: inline-block;\">\r\n                    <button class=\"b-r-2 bold p-5 w-full bg-green no-ptr\">Download</button>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n          </div>\r\n        </div>}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst onProgramStart = () => {\r\n  console.log('Program started.')\r\n\r\n  newData(64, 64, true)\r\n  render(<View />, document.body)\r\n  \r\n  loadData({\r\n    onLoaded: () => {\r\n      initCanvases()\r\n      VIEW.render()\r\n    },\r\n    onError: () => {}\r\n  })\r\n\r\n  setupKeyListeners()\r\n  \r\n  window.addEventListener('keyup', () => {\r\n    saveData()\r\n  })  \r\n}\r\n\r\nwindow.addEventListener('load', onProgramStart)\r\n\r\nwindow.addEventListener('beforeunload', (event) => {\r\n  event.returnValue = `Are you sure you want to leave?`;\r\n});\r\n"],"names":["const","let","copy","layerActive","frameActive","frameI","this","target","Component","render"],"mappings":"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"}